<!doctype html>
<html class="no-js" lang="tr-TR">
<head>
  <meta charset="UTF-8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Sunucuda Rescue Mode Kullanımı | Mertcan GÖKGÖZ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Jekyll">
  <link href="https://plus.google.com/103305118431759296457" rel="publisher" />
  <!-- Begin Jekyll SEO tag v2.1.0 -->
<meta property="og:title" content="Sunucuda Rescue Mode Kullanımı" />
<meta name="description" content="Geçtiğimiz günlerde sistemsel olarak bir sorun yaşadım bunun sonucundada sunucuya hiçbir şekilde bağlanamıyordum.Rescue Mode sağolsun çözüme" />
<meta property="og:description" content="Geçtiğimiz günlerde sistemsel olarak bir sorun yaşadım bunun sonucundada sunucuya hiçbir şekilde bağlanamıyordum.Rescue Mode sağolsun çözüme" />
<link rel="canonical" href="https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/" />
<meta property="og:url" content="https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/" />
<meta property="og:site_name" content="Mertcan GÖKGÖZ - Özgür Yazılım, Sunucu Yönetimi ve Hizmetleri" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-12-22T12:54:09+02:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mertcangokgoz" />
<meta name="twitter:creator" content="@http://twitter.com/mertcangokgoz" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Sunucuda Rescue Mode Kullanımı",
"datePublished": "2015-12-22T12:54:09+02:00",
"description": "Geçtiğimiz günlerde sistemsel olarak bir sorun yaşadım bunun sonucundada sunucuya hiçbir şekilde bağlanamıyordum.Rescue Mode sağolsun çözüme",
"url": "https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/"}</script>
<!-- End Jekyll SEO tag -->

  
  <meta name="author" content="Mertcan GÖKGÖZ" />
  <meta name="distribution" content="global"/>
  <meta name="robots" content="follow, all"/>
  <meta name="google-site-verification" content="72uYg4UxAer0YwWdtkU93OGqjNq7ZThpqe0M4KxyvIg"/>
  <meta name='yandex-verification' content='410f2e33fe81ce80'/>
  <meta name="msvalidate.01" content="2183CAED5258723C183F825A20DF9C4A"/>
  <link rel="alternate" type="application/rss+xml" title="Mertcan GÖKGÖZ" href="https://mertcangokgoz.com/feed" />
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/all.css">
  <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css">
  <script type="text/javascript" src="/assets/js/jquery-1.12.4.min.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png">
</head>
<body>
<div class="container">
    <div class="three columns sidebar">
      <nav class="nav">
  <a href="/">
    <img src="/YeniResimBro.jpg" id="gravatar" alt="Mertcan GÖKGÖZ" width="200" height="200"/>
  </a>
  <h3><a href="/">Mertcan GÖKGÖZ</a></h3>
  <div id="bio">
    <p>
        Kategoriler:<br>

        <a href="/category/linux">Linux</a> &raquo; 236 Yazı<br><a href="/category/programlama">Programlama</a> &raquo; 79 Yazı<br><a href="/category/genel">Genel</a> &raquo; 69 Yazı<br><a href="/category/guvenlik">Guvenlik</a> &raquo; 54 Yazı<br><a href="/category/windows">Windows</a> &raquo; 36 Yazı<br><a href="/category/analiz">Analiz</a> &raquo; 21 Yazı<br><a href="/category/jekyll">Jekyll</a> &raquo; 16 Yazı<br><a href="/category/nginx">Nginx</a> &raquo; 15 Yazı<br><a href="/category/egitimler">Egitimler</a> &raquo; 6 Yazı<br>
        <br>
        Arkadaşlar:<br>
        <a href="https://oztaser.com/" target="_blank" rel="nofollow">Adil ÖZTAŞER</a><br>
        <a href="https://aligoren.com/" target="_blank" rel="nofollow">Ali GÖREN</a><br>
        <a href="https://www.ceyhanmolla.com/" target="_blank" rel="nofollow">Ceyhan MOLLA</a><br>
        <a href="https://0x6.pw/" target="_blank" rel="nofollow">Enes ERGÜN</a><br>
        <a href="http://furkankalkan.com/" target="_blank" rel="nofollow">Furkan KALKAN</a><br>
        <a href="http://www.hamdicatal.com/" target="_blank" rel="nofollow">Hamdi ÇATAL</a><br>
        <a href="https://onur.im/" target="_blank" rel="nofollow">Onur ASLAN</a><br>
        <a href="http://www.omeripek.com.tr" target="_blank" rel="nofollow">Ömer IPEK</a><br>
        <a href="https://yapaygerizeka.github.io/" target="_blank" rel="nofollow">Yapay Geri Zekâ</a><br>
    </p>
  </div>
  <div id="social">
    Takip Edin:
<div id="stalker">
   

   
   <a title="MertcanGokgoz on Academia" href="https://baskent.academia.edu/MertcanGokgoz" target="_blank" rel="nofollow">
     <i class="fa fa-book"></i>
   </a>
   

  
  <a title="MertcanGokgoz on Github" href="https://github.com/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-github-square"></i>
  </a>
  

  
  <a title="MertcanGokgoz on Gitlab" href="https://gitlab.com/u/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-gitlab"></i>
  </a>
  

  

  

  

  

  

  
  <a title="mertcangokgoz on Twitter" href="https://twitter.com/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-twitter-square"></i>
  </a>
  

  

  

  
  <a title="Mertcan GÖKGÖZ on LinkedIn" href="https://www.linkedin.com/in/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  
  <a title="Mertcan GÖKGÖZ on Google Plus" href="https://plus.google.com/103305118431759296457" target="_blank" rel="nofollow">
    <i class="fa fa-google-plus-square"></i>
  </a>
  

  

  
  <a title="Mertcan GÖKGÖZ on Youtube" href="https://www.youtube.com/c/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-youtube"></i>
  </a>
  

  
  <a title="RSS feed" id="atom" href="/feed/">
    <i class="fa fa-rss-square"></i>
  </a>
  
</div>

  </div>
</nav>

    </div>
    <div class="nine columns content">
        <div class="menuM">
    <ul class="topnav">
        <li><a class="active" href="https://mertcangokgoz.com/">Anasayfa</a></li>
        <li><a href="https://mertcangokgoz.com/category/analiz/">Analiz</a></li>
        <li><a href="https://mertcangokgoz.com/category/genel/">Genel</a></li>
        <li><a href="https://mertcangokgoz.com/category/guvenlik/">Güvenlik</a></li>
        <li><a href="https://mertcangokgoz.com/category/linux/">Linux</a></li>
        <li><a href="https://mertcangokgoz.com/category/windows/">Windows</a></li>
        <li><a href="https://mertcangokgoz.com/category/jekyll/">Jekyll</a></li>
        <li><a href="https://mertcangokgoz.com/category/nginx/">Nginx</a></li>
        <li><a href="https://mertcangokgoz.com/category/egitimler/">Egitimler</a></li>
        <li><a href="https://mertcangokgoz.com/category/programlama/">Programlama</a></li>
        <li class="icon">
            <a href="javascript:void(0);" style="font-size:15px;" onclick="myFunction()"><i class="fa fa-bars"></i></a>
        </li>
    </ul>
</div>

<script>
    function myFunction() {
        document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
    }
</script>


<p class="meta">
  December 22, 2015
  <a href="/">
    <i class="home fa fa-home fa-2x"></i>
  </a>
  <a href="/search/">
    <i class="home fa fa-search fa-2x"></i>
  </a>
  <a href="javascript:" onclick="window.print();return false;">
    <i class="home fa fa-print fa-2x"></i>
  </a>
</p>

<h1 class="title">Sunucuda Rescue Mode Kullanımı</h1>

<div id="post">
  <p>Geçtiğimiz günlerde sistemsel olarak bir sorun yaşadım bunun sonucundada sunucuya hiçbir şekilde bağlanamıyordum. <strong>Rescue Mode</strong> sağolsun çözüme kavuşmama yardımcı oldu <strong>KVM</strong> den ulaşabilirdim lakin şifreyi girmek oldukça zahmetli olduğu için böyle bir şey yapmak istemedim bende direk olarak kurtarma moduna geçirdim sistemi</p>

<p>bu işlem yaklaşık olarak 3 dakika sürdüğü için uptime da biraz kesinti oldu lakin cloudflare sağolsun kullanıcılarımıza hata sayfası göstermek yerine yansımızı gösterdik.Çıkan sorun ise şu şekildeydi</p>

<ol>
  <li>Psad ayarlarından dolayı güvenlik duvarı hardcore moda geçmiş ve portların tamamını engellemişti</li>
  <li>Ayrıca kök kullanıcı şifresi otomatik olarak sıfırlanmış ve kendiliğinden değişmişti ki bu güvenlik gerekçesi ile otomatik sistem yapmış (yanlış ayarlama kurbanı olduk :( kısacası)</li>
</ol>

<p>Kullandığınız firmadan firmaya genellikle aşamalar değişse bile temelde tüm firmalar rescue mode de diski söküp başka bir sistemde mount etmeyi amaçlar ki bu özellikle sunucudan veri kurtarma yada hatayı çözmek için baya iyi bir özellik tabi güvenlik konusunda sıkıntı yaşatabilir lakin sorunları çözme konusunda üzerüne yoktur <strong>KVM</strong> den etkilidir.</p>

<p>Öncelikle mail adresinize yeni bir <strong>SSH</strong> şifresi göndermesi gerekiyor kullanılan firmaya göre bu hız değişebiliyor. <strong>Dedicated</strong> sunucuda kullansanız <strong>VPS</strong> de kullansanız rescue mode de illaki diskleri farklı bir sistemde mount edebiliyorsunuz.(Türkiyedeki çoğu firmada bu yok)</p>

<p>Aldığınız yeni şifre ile login olduktan sonra fark edeceğiniz gibi normal komutlar çalışıyor olacak tek sıkıntı diski eklemediğiniz için yapacaklarınızı yapamayacaksınız bunu çözmek için ise sisteme normal sunucunuzda kullandığınız diskin mount edilebilir olması</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    fdisk -l
</code></pre>
</div>

<p>diyerek diskleri listeleyecektir zaten sistem farklı bi yerde bağlı gözüktüğü içinde tek bir tane disk göreceksiniz.bu diski komut aracılığı ile <strong>mount</strong> ediyoruz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    mount /dev/xda1 /mnt
</code></pre>
</div>

<p>geçici mount klasörümüzü <strong>/mnt</strong> ile belirledik artık diskimiz <strong>mount</strong> edildiğine göre gerekenleri yapalım hızlıca <strong>chroot</strong> gibi güzel bir komutumuz var mount ettiğimiz alan içerisinde işlem yapmamızı sağlayacak</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    chroot /mnt /bin/bash
</code></pre>
</div>

<p>root olarak bağlandığımıza göre ve diskde işlemleri yapabiliyor olduğumuzu gördüğümüze göre hemen ne yapacağımızı seçiyoruz.Ben Güvenlik duvarını yapılandırıp <strong>SSH</strong> şifresini değiştireceğim bu yüzden şu şekilde bir yol izliyorum.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    passwd şifre
</code></pre>
</div>

<p>SSH şifremi değiştirmiş oldum.Sıra geldi güvenlik duvarında ayarlama yapmaya ben sistem olarak ubuntu seçmiştim.Güvenlik duvarı olarakda iptables yanında ufw vardı.Bunuda kapatıp gereken işlemi yapayım dedim</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    sudo ufw disable
</code></pre>
</div>

<p>iki işlemide yerine getirdiğime göre şimdi sistemden çıkmamız ve diski tekrar gerçek sunucuda <strong>mount</strong> etmemiz gerekiyor aşağıdaki işlemleri uygulayarak bunu yapabilirsiniz.Bazı firmalarda sistemi tekrar eski yerinde mount edebilmek için panel üzerinden <strong>reboot</strong> aşamasını yapmanız gerekiyor.Onun dışında aşağıdaki komutları vermenizde işinize yarayacaktır.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    exit
</code></pre>
</div>

<p>komutu ile <strong>chroot</strong> olunun dizinden kullanıcımızı çıkartıyoruz ve normal kurtarma sisteminin bir kullanıcısı oluyoruz.Bu aşamada <strong>mount</strong> ettiğimiz diski unmount etmemiz gerekiyor.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    umount /mnt
</code></pre>
</div>

<p>disk başarılı bir şekilde <strong>umount</strong> edildiğine göre artık bu sistemdende kurtulmamız gerekiyor panel üzerinden <strong>reboot</strong> atıp bu aşamayı geçebilirsiniz.Yada direk olarak aşağıdaki komutu vererekde yeniden başlatabilirsiniz böylelikle sistem eski yerinde <strong>boot</strong> edilecek ve sisteminiz sorunsuz bir şekilde açılacak daha sonra siz sisteme bağlanıp yaptığınız hataları düzeltebilir yada yedek alma işlemi yapabilirsiniz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    reboot
</code></pre>
</div>

</div>

<hr style="margin:20px;">
<p><small class="edit">Bir şeyler bu yazıda doğru ya da eksik değil mi? <a href="https://github.com/MertcanGokgoz/mertcangokgoz.github.io/edit/jekyll/_posts/2015-12-22-sunucuda-rescue-mode-kullanimi.md" target="_blank">Düzenleyin ve pull request Oluşturun</a></small></p>


<div id="paylasim">
<h3>Bu yazıyı paylaş:</h3>
<a href="https://www.facebook.com/sharer/sharer.php?u=https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-facebook-square fa share-button"> Facebook</i>
</a>
<a href="https://twitter.com/intent/tweet?text=Sunucuda Rescue Mode Kullanımı&url=https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/&via=mertcangokgoz&related=mertcangokgoz" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;">
    <i class="fa fa-twitter-square fa share-button"> Twitter</i>
</a>
<a href="https://plus.google.com/share?url=https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-google-plus-square fa share-button"> Google</i>
</a>
<a href="http://www.reddit.com/submit?url=https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/&title=Sunucuda Rescue Mode Kullanımı" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-reddit-square fa share-button"> Reddit</i>
</a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/&title=Sunucuda Rescue Mode Kullanımı&summary=&source=webjeda" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-linkedin-square fa share-button"> Linkedin</i>
</a>
<a href="mailto:?subject=Sunucuda Rescue Mode Kullanımı&amp;body=Check out this site https://mertcangokgoz.com/sunucuda-rescue-mode-kullanimi/">
    <i class="fa fa-envelope-square fa share-button"> Email</i>
</a>
</div>


<div class="ajaxloadcomment"><button class="show-comments">Yorumları yükle</button></div>
<div itemprop="comment" id="disqus_thread"></div>
<script>
$(document).ready(function() {
    $('.show-comments').on('click', function(){
          var disqus_shortname = 'mertcanofficial';

          $.ajax({
                  type: "GET",
                  url: "//" + disqus_shortname + ".disqus.com/embed.js",
                  dataType: "script",
                  cache: true
          });
          $(this).fadeOut();
    });
});
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



      <div class="footer">
        <div class="disclaimer">
  
  <p>
    Bu sitedeki gönderiler bana aittir ve iş verenime ait pozisyonlar,
    stratejiler veya görüşler temsil edilmemektedir.<br>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Atıf-Paylaşım Lisansı</a> altındadır.<br>
        <a href="/ders-notlari/">Ders Notları</a>
        <span> | </span><a href="/gizlilik-politikasi/">Gizlilik Politikası</a>
        <span> | </span><a href="/kullanim-kosullari/">Kullanım Koşulları</a>
        <span> | </span><a href="/hakkimda/">Hakkımda</a>
        <span> | </span><a href="/iletisim/">İletişim</a><br>
        <b>BTC:</b> 36DFx4anTdsx3AnBiA1oqR3oHkMV3RJME1<br>
        <a href="/hosted/">Hosted By </a> © Mertcan GÖKGÖZ, 2017 - Linux Hacısı
  </p>
  
</div>

      </div>
    </div>
  </div>
  <div id="up">
    <a href="javascript:"><i class="fa fa-arrow-up fa-2x"></i></a>
  </div>







</body>
</html>
