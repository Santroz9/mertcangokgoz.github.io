<!doctype html>
<html class="no-js" lang="tr-TR">
<head>
  <meta charset="UTF-8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Baba'ya Kullanılabilir Entropi Lazım | Mertcan GÖKGÖZ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Jekyll">
  <link href="https://plus.google.com/103305118431759296457" rel="publisher" />
  <!-- Begin Jekyll SEO tag v2.1.0 -->
<meta property="og:title" content="Baba’ya Kullanılabilir Entropi Lazım" />
<meta name="description" content="Cihazların gürüldütüsünden sistemde entropi biriktirmemiz gerektiğini genelde çoğu kişi bilmez. Normal sistemi kullanırken" />
<meta property="og:description" content="Cihazların gürüldütüsünden sistemde entropi biriktirmemiz gerektiğini genelde çoğu kişi bilmez. Normal sistemi kullanırken" />
<link rel="canonical" href="https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/" />
<meta property="og:url" content="https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/" />
<meta property="og:site_name" content="Mertcan GÖKGÖZ - Özgür Yazılım, Sunucu Yönetimi ve Hizmetleri" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-21T00:00:00+03:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mertcangokgoz" />
<meta name="twitter:creator" content="@http://twitter.com/mertcangokgoz" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Baba’ya Kullanılabilir Entropi Lazım",
"datePublished": "2016-09-21T00:00:00+03:00",
"description": "Cihazların gürüldütüsünden sistemde entropi biriktirmemiz gerektiğini genelde çoğu kişi bilmez. Normal sistemi kullanırken",
"url": "https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/"}</script>
<!-- End Jekyll SEO tag -->

  
  <meta name="author" content="Mertcan GÖKGÖZ" />
  <meta name="distribution" content="global"/>
  <meta name="robots" content="follow, all"/>
  <meta name="google-site-verification" content="72uYg4UxAer0YwWdtkU93OGqjNq7ZThpqe0M4KxyvIg"/>
  <meta name='yandex-verification' content='410f2e33fe81ce80'/>
  <meta name="msvalidate.01" content="2183CAED5258723C183F825A20DF9C4A"/>
  <link rel="alternate" type="application/rss+xml" title="Mertcan GÖKGÖZ" href="https://mertcangokgoz.com/feed" />
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/all.css">
  <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css">
  <script type="text/javascript" src="/assets/js/jquery-1.12.4.min.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png">
</head>
<body>
<div class="container">
    <div class="three columns sidebar">
      <nav class="nav">
  <a href="/">
    <img src="/YeniResimBro.jpg" id="gravatar" alt="Mertcan GÖKGÖZ" width="200" height="200"/>
  </a>
  <h3><a href="/">Mertcan GÖKGÖZ</a></h3>
  <div id="bio">
    <p>
        Kategoriler:<br>

        <a href="/category/linux">Linux</a> &raquo; 231 Yazı<br><a href="/category/programlama">Programlama</a> &raquo; 79 Yazı<br><a href="/category/genel">Genel</a> &raquo; 69 Yazı<br><a href="/category/guvenlik">Guvenlik</a> &raquo; 53 Yazı<br><a href="/category/windows">Windows</a> &raquo; 36 Yazı<br><a href="/category/analiz">Analiz</a> &raquo; 21 Yazı<br><a href="/category/jekyll">Jekyll</a> &raquo; 16 Yazı<br><a href="/category/nginx">Nginx</a> &raquo; 15 Yazı<br><a href="/category/egitimler">Egitimler</a> &raquo; 6 Yazı<br>
        <br>
        Arkadaşlar:<br>
        <a href="https://oztaser.com/" target="_blank" rel="nofollow">Adil ÖZTAŞER</a><br>
        <a href="https://aligoren.com/" target="_blank" rel="nofollow">Ali GÖREN</a><br>
        <a href="https://www.ceyhanmolla.com/" target="_blank" rel="nofollow">Ceyhan MOLLA</a><br>
        <a href="https://0x6.pw/" target="_blank" rel="nofollow">Enes ERGÜN</a><br>
        <a href="http://furkankalkan.com/" target="_blank" rel="nofollow">Furkan KALKAN</a><br>
        <a href="http://www.hamdicatal.com/" target="_blank" rel="nofollow">Hamdi ÇATAL</a><br>
        <a href="https://onur.im/" target="_blank" rel="nofollow">Onur ASLAN</a><br>
        <a href="http://www.omeripek.com.tr" target="_blank" rel="nofollow">Ömer IPEK</a><br>
        <a href="https://yapaygerizeka.github.io/" target="_blank" rel="nofollow">Yapay Geri Zekâ</a><br>
    </p>
  </div>
  <div id="social">
    Takip Edin:
<div id="stalker">
   

   
   <a title="MertcanGokgoz on Academia" href="https://baskent.academia.edu/MertcanGokgoz" target="_blank" rel="nofollow">
     <i class="fa fa-book"></i>
   </a>
   

  
  <a title="MertcanGokgoz on Github" href="https://github.com/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-github-square"></i>
  </a>
  

  
  <a title="MertcanGokgoz on Gitlab" href="https://gitlab.com/u/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-gitlab"></i>
  </a>
  

  

  

  

  

  

  
  <a title="mertcangokgoz on Twitter" href="https://twitter.com/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-twitter-square"></i>
  </a>
  

  

  

  
  <a title="Mertcan GÖKGÖZ on LinkedIn" href="https://www.linkedin.com/in/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  
  <a title="Mertcan GÖKGÖZ on Google Plus" href="https://plus.google.com/103305118431759296457" target="_blank" rel="nofollow">
    <i class="fa fa-google-plus-square"></i>
  </a>
  

  

  
  <a title="Mertcan GÖKGÖZ on Youtube" href="https://www.youtube.com/c/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-youtube"></i>
  </a>
  

  
  <a title="RSS feed" id="atom" href="/feed/">
    <i class="fa fa-rss-square"></i>
  </a>
  
</div>

  </div>
</nav>

    </div>
    <div class="nine columns content">
        <div class="menuM">
    <ul class="topnav">
        <li><a class="active" href="https://mertcangokgoz.com/">Anasayfa</a></li>
        <li><a href="https://mertcangokgoz.com/category/analiz/">Analiz</a></li>
        <li><a href="https://mertcangokgoz.com/category/genel/">Genel</a></li>
        <li><a href="https://mertcangokgoz.com/category/guvenlik/">Güvenlik</a></li>
        <li><a href="https://mertcangokgoz.com/category/linux/">Linux</a></li>
        <li><a href="https://mertcangokgoz.com/category/windows/">Windows</a></li>
        <li><a href="https://mertcangokgoz.com/category/jekyll/">Jekyll</a></li>
        <li><a href="https://mertcangokgoz.com/category/nginx/">Nginx</a></li>
        <li><a href="https://mertcangokgoz.com/category/egitimler/">Egitimler</a></li>
        <li><a href="https://mertcangokgoz.com/category/programlama/">Programlama</a></li>
        <li class="icon">
            <a href="javascript:void(0);" style="font-size:15px;" onclick="myFunction()"><i class="fa fa-bars"></i></a>
        </li>
    </ul>
</div>

<script>
    function myFunction() {
        document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
    }
</script>


<p class="meta">
  September 21, 2016
  <a href="/">
    <i class="home fa fa-home fa-2x"></i>
  </a>
  <a href="/search/">
    <i class="home fa fa-search fa-2x"></i>
  </a>
  <a href="javascript:" onclick="window.print();return false;">
    <i class="home fa fa-print fa-2x"></i>
  </a>
</p>

<h1 class="title">Baba'ya Kullanılabilir Entropi Lazım</h1>

<div id="post">
  <p>Cihazların gürüldütüsünden sistemde entropi biriktirmemiz gerektiğini genelde çoğu kişi bilmez. Normal sistemi kullanırken bu entropileri biriktirmek daha sonra yapacağımız kriptografik işlemleri hızlandırır. Mesala web siteniz için <strong>SSL</strong> oluşturacağınız zaman bu entropi yardımı ile çok kısa sürede `dhparam’ oluşturabilirsiniz. Aynı şekilde çok kısa sürede SSL key için gizli anahtar oluşturabilirsiniz.</p>

<p><strong>Gpg key</strong> oluştururken sisteminizde aşağıdaki gibi bir uyarı verirse bu makalede yapacağımız işlemler onada yarayacak ve bundan sonra o uyarıyı da görmeyeceksiniz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>**We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
Not enough random bytes available.  Please do some other work to give
the OS a chance to collect more entropy! (Need 210 more bytes)**
</code></pre>
</div>

<p>Şimdi tüm bunların tek bir çözümü tabi ki de yok sistemde <strong>entropi</strong> biriktirmek için pek çok yöntem mevcut örneğin; arka planda bir video oynatmak, klavyede yazı yazmak, yapılan mouse hareketleri, internet tarayıcısı ile internette dolaşmak sadece bunlardan bazılarıdır. Ancak sunucularda ve kimi zaman kişisel bilgisayarınızda bunları yapamıyor olabilirsiniz. İşte bizim bu yöntemimizde burada başlıyor aslında</p>

<p>Ama hepsinden önce sistemimizde ne kadar kullanılabilir entrpi olduğunu görelim bunun için aşağıdaki şu komutu kullanmanızı öneriyorum.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cat /proc/sys/kernel/random/entropy_avail
</code></pre>
</div>

<p>Bunun çıktısı genelde yeni açılmış ve pek fazla işlem yapılmamış sistemde 500 ila 1000 arasında bir değer ile gelmektedir. Kimi zaman 500 den düşük olduğu bile görülmüştür. Bu durum sistemde kriptografik işlemler yapacağımız zaman yaptığımız işlemlerin sürelerinin oldukça yüksek olmasına neden olur. Düşük seviyeli olarak buna bir çözüm bulmak ve sistemi başlattığınızda entropinin belirli bir seviyeden başlamasına da faydası olan <code class="highlighter-rouge">haveged</code> uygulamasını kurabilirsiniz. Bir önceki makalemizde detaylarını anlatmıştık. <a href="https://mertcangokgoz.com/haveged-uygulamasi-ne-ise-yarar/">Haveged Uygulaması Ne işe yarar</a> Vakit kaybetmeden testimize başlıyoruz.</p>

<p>Örneğin sistemde 4096 bitlik bir <code class="highlighter-rouge">dhparam</code> dosyası oluşturalım.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>time openssl dhparam -out dhparam.pem 4096
</code></pre>
</div>

<p>Süreyi takip etmek için <code class="highlighter-rouge">time</code> komutundan faydalanıyor olacağız komutu çalıştırıyor ve bitmesini bekliyoruz. Benim sistemimde entropi olmadığından aşağıdaki gibi oldukça yüksek bir sürede tamamlandı</p>

<div class="highlighter-rouge"><pre class="highlight"><code>real	12m0.666s
user	12m0.152s
sys		0m0.080s
</code></pre>
</div>

<p>Şimdide aynı komutu sistemde entropi kaynaklarını doldurduktan sonra deniyoruz. Tekrar aynı komutu çalıştırıyoruz ve bu sefer gözle görülür bir şekilde sürenin kısaldığını görüyoruz</p>

<div class="highlighter-rouge"><pre class="highlight"><code>real 3m2.815s
user 3m2.792s
sys 0m0.008s
</code></pre>
</div>

<p>Peki bu işlemi nasıl yapabildik bu kadar kısa bir sürede entropi oranını nasıl arttırdık, ilk olarak sistemimize <code class="highlighter-rouge">rng-tools</code> ekledik bu sayede sistemimize bir daemon daha eklemiş olduk ve <strong>TRNG</strong> (true random number generator) işlemi yaptırır olduk genelde test için kullandığımız bu uygulamadan oldukça faydalanacağız.</p>

<p>İlk olarak uygulamayı sistemimize ekliyoruz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo apt-get install rng-tools
</code></pre>
</div>

<p>Uygulama kurulduğu zaman <code class="highlighter-rouge">/etc/default/</code> klasörü içerisine <code class="highlighter-rouge">rng-tools</code> adı altında bir dosya geldiğini göreceksiniz. Bu dosyayı şu şekilde açıyoruz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo nano /etc/default/rng-tools
</code></pre>
</div>

<p>içerisinde şu şekilde ayarlamalar bulunuyor.</p>

<div class="highlighter-rouge"><pre class="highlight"><code># Configuration for the rng-tools initscript
# $Id: rng-tools.default,v 1.1.2.5 2008-06-10 19:51:37 hmh Exp $

# This is a POSIX shell fragment

# Set to the input source for random data, leave undefined
# for the initscript to attempt auto-detection.  Set to /dev/null
# for the viapadlock and tpm drivers.
#HRNGDEVICE=/dev/hwrng
#HRNGDEVICE=/dev/null

# Additional options to send to rngd. See the rngd(8) manpage for
# more information.  Do not specify -r/--rng-device here, use
# HRNGDEVICE for that instead.
#RNGDOPTIONS="--hrng=intelfwh --fill-watermark=90% --feed-interval=1"
#RNGDOPTIONS="--hrng=viakernel --fill-watermark=90% --feed-interval=1"
#RNGDOPTIONS="--hrng=viapadlock --fill-watermark=90% --feed-interval=1"
#RNGDOPTIONS="--hrng=tpm --fill-watermark=90% --feed-interval=1"
</code></pre>
</div>

<p>Biz burada <code class="highlighter-rouge">HRNGDEVICE</code> yazanların hemen altına şu satırı ekliyoruz ve kayıt edip çıkıyoruz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HRNGDEVICE=/dev/urandom
</code></pre>
</div>

<p>bir süre sonra tekrar entropilerimizi kontrol ediyoruz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cat /proc/sys/kernel/random/entropy_avail
</code></pre>
</div>

<p>Gördüğünüz gibi aşağıdaki değeri verdi bize buda demek oluyor ki kullanılabilir entropilerimiz oldukça arttı</p>

<div class="highlighter-rouge"><pre class="highlight"><code>4256
</code></pre>
</div>

<p>Bu kullanılabilir entropiler size her zaman lazım olacak özellikle çokça kriptografik işlemler yapıyor ve SSL oluşturuyorsanız veya <strong>GPG key</strong> oluşturacaksanız yada her hangi bir şekilde entropi ye lazım olan bir işlem yaptığınızda yukarıdada bahsettiğim gibi kullanabileceksiniz.</p>

<p>Testleri yaparken kullandığım sistem bilgileri şu şekildedir.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mertcan@0x2e88ce4:~$ screenfetch
                          ./+o+-       mertcan@0x2e88ce4
                  yyyyy- -yyyyyy+      OS: Ubuntu 16.04 xenial
               ://+//////-yyyyyyo      Kernel: x86_64 Linux 4.4.0-38-generic
           .++ .:/++++++/-.+sss/`      Uptime: 9h 16m
         .:++o:  /++++++++/:--:/-      Packages: 2057
        o:+o+:++.`..```.-/oo+++++/     Shell: bash 4.3.46
       .:+o:+o/.          `+sssoo+/    Resolution: 1920x1080
  .++/+:+oo+o:`             /sssooo.   DE: XFCE
 /+++//+:`oo+o               /::--:.   WM: Xfwm4
 \+/+o+++`o++o               ++////.   WM Theme: Numix
  .++.o+++oo+:`             /dddhhh.   GTK Theme: Numix [GTK2]
       .+.o+oo:.          `oddhhhh+    Icon Theme: Numix-Circle
        \+.++o+o``-````.:ohdhhhhh+     Font: Hack 10
         `:o+++ `ohhhhhhhhyo++os:      CPU: Intel Core i7-4720HQ CPU @ 3.6GHz
           .o:`.syhhhhhhh/.oo++o`      GPU: Mesa DRI Intel(R) Haswell Mobile 
               /osyyyyyyo++ooo+++/     RAM: 2914MiB / 15958MiB
                   ````` +oo+++o\:    
                          `oo++.      
mertcan@0x2e88ce4:~$ 
</code></pre>
</div>

<p>öptüm bye &lt;3</p>

</div>

<div id="paylasim">
<h3>Bu yazıyı paylaş:</h3>
<a href="https://www.facebook.com/sharer/sharer.php?u=https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-facebook-square fa share-button"> Facebook</i>
</a>
<a href="https://twitter.com/intent/tweet?text=Baba'ya Kullanılabilir Entropi Lazım&url=https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/&via=mertcangokgoz&related=mertcangokgoz" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;">
    <i class="fa fa-twitter-square fa share-button"> Twitter</i>
</a>
<a href="https://plus.google.com/share?url=https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-google-plus-square fa share-button"> Google</i>
</a>
<a href="http://www.reddit.com/submit?url=https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/&title=Baba'ya Kullanılabilir Entropi Lazım" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-reddit-square fa share-button"> Reddit</i>
</a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/&title=Baba'ya Kullanılabilir Entropi Lazım&summary=&source=webjeda" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-linkedin-square fa share-button"> Linkedin</i>
</a>
<a href="mailto:?subject=Baba'ya Kullanılabilir Entropi Lazım&amp;body=Check out this site https://mertcangokgoz.com/babaya-kullanilabilir-entropi-lazim/">
    <i class="fa fa-envelope-square fa share-button"> Email</i>
</a>
</div>


<div class="ajaxloadcomment"><button class="show-comments">Yorumları yükle</button></div>
<div itemprop="comment" id="disqus_thread"></div>
<script>
$(document).ready(function() {
    $('.show-comments').on('click', function(){
          var disqus_shortname = 'mertcanofficial';

          $.ajax({
                  type: "GET",
                  url: "//" + disqus_shortname + ".disqus.com/embed.js",
                  dataType: "script",
                  cache: true
          });
          $(this).fadeOut();
    });
});
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



      <div class="footer">
        <div class="disclaimer">
  
  <p>
    Bu sitedeki gönderiler bana aittir ve iş verenime ait pozisyonlar,
    stratejiler veya görüşler temsil edilmemektedir.<br>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Atıf-Paylaşım Lisansı</a> altındadır.<br>
        <a href="/ders-notlari/">Ders Notları</a>
        <span> | </span><a href="/gizlilik-politikasi/">Gizlilik Politikası</a>
        <span> | </span><a href="/kullanim-kosullari/">Kullanım Koşulları</a>
        <span> | </span><a href="/hakkimda/">Hakkımda</a>
        <span> | </span><a href="/iletisim/">İletişim</a><br>
        <b>BTC:</b> 36DFx4anTdsx3AnBiA1oqR3oHkMV3RJME1<br>
        <a href="/hosted/">Hosted By </a> © Mertcan GÖKGÖZ, 2016 - Linux Hacısı
  </p>
  
</div>

      </div>
    </div>
  </div>
  <div id="up">
    <a href="javascript:"><i class="fa fa-arrow-up fa-2x"></i></a>
  </div>







</body>
</html>
