<!doctype html>
<html class="no-js" lang="tr-TR">
<head>
  <meta charset="UTF-8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Tek İP Adresine Birden Çok SSL Kurulumu | Mertcan GÖKGÖZ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Jekyll">
  <link href="https://plus.google.com/103305118431759296457" rel="publisher" />
  <!-- Begin Jekyll SEO tag v2.1.0 -->
<meta property="og:title" content="Tek İP Adresine Birden Çok SSL Kurulumu" />
<meta name="description" content="Herhangi bir web sitesinde SSL aktif etmek için özel bir ip adresi gerekiyor.Hem sunucu sahipleri hemse hosting firmalar özel ip tahsisi" />
<meta property="og:description" content="Herhangi bir web sitesinde SSL aktif etmek için özel bir ip adresi gerekiyor.Hem sunucu sahipleri hemse hosting firmalar özel ip tahsisi" />
<link rel="canonical" href="https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/" />
<meta property="og:url" content="https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/" />
<meta property="og:site_name" content="Mertcan GÖKGÖZ - Özgür Yazılım, Sunucu Yönetimi ve Hizmetleri" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-12-27T13:23:06+02:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mertcangokgoz" />
<meta name="twitter:creator" content="@http://twitter.com/mertcangokgoz" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Tek İP Adresine Birden Çok SSL Kurulumu",
"datePublished": "2015-12-27T13:23:06+02:00",
"description": "Herhangi bir web sitesinde SSL aktif etmek için özel bir ip adresi gerekiyor.Hem sunucu sahipleri hemse hosting firmalar özel ip tahsisi",
"url": "https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/"}</script>
<!-- End Jekyll SEO tag -->

  
  <meta name="author" content="Mertcan GÖKGÖZ" />
  <meta name="distribution" content="global"/>
  <meta name="robots" content="follow, all"/>
  <meta name="google-site-verification" content="72uYg4UxAer0YwWdtkU93OGqjNq7ZThpqe0M4KxyvIg"/>
  <meta name='yandex-verification' content='410f2e33fe81ce80'/>
  <meta name="msvalidate.01" content="2183CAED5258723C183F825A20DF9C4A"/>
  <link rel="alternate" type="application/rss+xml" title="Mertcan GÖKGÖZ" href="https://mertcangokgoz.com/feed" />
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/all.css">
  <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css">
  <script type="text/javascript" src="/assets/js/jquery-1.12.4.min.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png">
</head>
<body>
<div class="container">
    <div class="three columns sidebar">
      <nav class="nav">
  <a href="/">
    <img src="/YeniResimBro.jpg" id="gravatar" alt="Mertcan GÖKGÖZ" width="200" height="200"/>
  </a>
  <h3><a href="/">Mertcan GÖKGÖZ</a></h3>
  <div id="bio">
    <p>
        Kategoriler:<br>

        <a href="/category/linux">Linux</a> &raquo; 238 Yazı<br><a href="/category/programlama">Programlama</a> &raquo; 79 Yazı<br><a href="/category/genel">Genel</a> &raquo; 69 Yazı<br><a href="/category/guvenlik">Guvenlik</a> &raquo; 54 Yazı<br><a href="/category/windows">Windows</a> &raquo; 36 Yazı<br><a href="/category/analiz">Analiz</a> &raquo; 21 Yazı<br><a href="/category/jekyll">Jekyll</a> &raquo; 16 Yazı<br><a href="/category/nginx">Nginx</a> &raquo; 15 Yazı<br><a href="/category/egitimler">Egitimler</a> &raquo; 6 Yazı<br>
        <br>
        Arkadaşlar:<br>
        <a href="https://oztaser.com/" target="_blank" rel="nofollow">Adil ÖZTAŞER</a><br>
        <a href="https://aligoren.com/" target="_blank" rel="nofollow">Ali GÖREN</a><br>
        <a href="https://www.ceyhanmolla.com/" target="_blank" rel="nofollow">Ceyhan MOLLA</a><br>
        <a href="https://0x6.pw/" target="_blank" rel="nofollow">Enes ERGÜN</a><br>
        <a href="http://furkankalkan.com/" target="_blank" rel="nofollow">Furkan KALKAN</a><br>
        <a href="http://www.hamdicatal.com/" target="_blank" rel="nofollow">Hamdi ÇATAL</a><br>
        <a href="https://onur.im/" target="_blank" rel="nofollow">Onur ASLAN</a><br>
        <a href="http://www.omeripek.com.tr" target="_blank" rel="nofollow">Ömer IPEK</a><br>
        <a href="https://yapaygerizeka.github.io/" target="_blank" rel="nofollow">Yapay Geri Zekâ</a><br>
    </p>
  </div>
  <div id="social">
    Takip Edin:
<div id="stalker">
   

   
   <a title="MertcanGokgoz on Academia" href="https://baskent.academia.edu/MertcanGokgoz" target="_blank" rel="nofollow">
     <i class="fa fa-book"></i>
   </a>
   

  
  <a title="MertcanGokgoz on Github" href="https://github.com/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-github-square"></i>
  </a>
  

  
  <a title="MertcanGokgoz on Gitlab" href="https://gitlab.com/u/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-gitlab"></i>
  </a>
  

  

  

  

  

  

  
  <a title="mertcangokgoz on Twitter" href="https://twitter.com/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-twitter-square"></i>
  </a>
  

  

  

  
  <a title="Mertcan GÖKGÖZ on LinkedIn" href="https://www.linkedin.com/in/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  
  <a title="Mertcan GÖKGÖZ on Google Plus" href="https://plus.google.com/103305118431759296457" target="_blank" rel="nofollow">
    <i class="fa fa-google-plus-square"></i>
  </a>
  

  

  
  <a title="Mertcan GÖKGÖZ on Youtube" href="https://www.youtube.com/c/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-youtube"></i>
  </a>
  

  
  <a title="RSS feed" id="atom" href="/feed/">
    <i class="fa fa-rss-square"></i>
  </a>
  
</div>

  </div>
</nav>

    </div>
    <div class="nine columns content">
        <div class="menuM">
    <ul class="topnav">
        <li><a class="active" href="https://mertcangokgoz.com/">Anasayfa</a></li>
        <li><a href="https://mertcangokgoz.com/category/analiz/">Analiz</a></li>
        <li><a href="https://mertcangokgoz.com/category/genel/">Genel</a></li>
        <li><a href="https://mertcangokgoz.com/category/guvenlik/">Güvenlik</a></li>
        <li><a href="https://mertcangokgoz.com/category/linux/">Linux</a></li>
        <li><a href="https://mertcangokgoz.com/category/windows/">Windows</a></li>
        <li><a href="https://mertcangokgoz.com/category/jekyll/">Jekyll</a></li>
        <li><a href="https://mertcangokgoz.com/category/nginx/">Nginx</a></li>
        <li><a href="https://mertcangokgoz.com/category/egitimler/">Egitimler</a></li>
        <li><a href="https://mertcangokgoz.com/category/programlama/">Programlama</a></li>
        <li class="icon">
            <a href="javascript:void(0);" style="font-size:15px;" onclick="myFunction()"><i class="fa fa-bars"></i></a>
        </li>
    </ul>
</div>

<script>
    function myFunction() {
        document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
    }
</script>


<p class="meta">
  December 27, 2015
  <a href="/">
    <i class="home fa fa-home fa-2x"></i>
  </a>
  <a href="/search/">
    <i class="home fa fa-search fa-2x"></i>
  </a>
  <a href="javascript:" onclick="window.print();return false;">
    <i class="home fa fa-print fa-2x"></i>
  </a>
</p>

<!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="//mertcangokgoz.us14.list-manage.com/subscribe/post?u=17577b0e4d2ef9aad57eb98fd&amp;id=db66efe5bf" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Posta listemize üye olun</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_17577b0e4d2ef9aad57eb98fd_db66efe5bf" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>
<!--End mc_embed_signup-->


<h1 class="title">Tek İP Adresine Birden Çok SSL Kurulumu</h1>

<div id="post">
  <p>Herhangi bir web sitesinde <strong>SSL</strong> aktif etmek için özel bir ip adresi gerekiyor.Hem sunucu sahipleri hemse hosting firmalar özel ip tahsisi konusunda sıkıntılıdırlar.Bu noktada devreye <strong>SNI(Server Name Indication)</strong> devreye giriyor.</p>

<p>SSL ile şifrelenmiş veri kullanıcının tarayıcısında açılıyor.Aradaki bağlantı tamamen şifreli olduğu için iletişim sırasında header yerine ip adresine bakılması gerekiyor bu yüzdende <strong>SSL</strong> kullanımında özel ip gerekiyordu <strong>SNI desteği</strong> aslına bakarsanız bu zorunluluğu ortadan kaldırdı.Özel İP zorunluluğu olmadan tek ip üzerinde birden çok site barındırabilir ve daha sonra bu sitelere SSL kurulumu gerçekleştirebilirsiniz.Ancak bilmenizde yarar var SNI özelliğini eski tarayıcılar desteklemiyor.Destekleyen tarayıcı sürümleri ve <a href="https://www.digicert.com/ssl-support/apache-secure-multiple-sites-sni.htm">detaylarına ulaşmak için</a></p>

<p>Ayrıca SNI kullanılan tarayıcı dışında <strong>TLS</strong> desteklemeyen mail server yapılarında sıkıntılara yol açabileceğinden dikkatli olunuz.</p>

<h2 id="peki-bu-sni-kurulumu-nasl-gerekleir">Peki bu SNI kurulumu nasıl gerçekleşir?</h2>

<p>İlk olarak yapmanız gereken şey sisteminize nginx kurmak herhangi extra bir pakete gerek yok sade bir şekilde kurulumu yapabilirsiniz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo apt-get install nginx
</code></pre>
</div>

<p>kurulum tamamlandıktan sonra Nginx sürümünüzün <strong>SNI</strong> destekleyip desteklemediğini sürüm bilgisi öğrenmek için verdiğiniz komut ile rahatlıkla görebilirsiniz.</p>

<p><img src="/assets/snidesteginginx.png" alt="snidesteginginx" /></p>

<p>Gördüğünüz gibi <strong>“TLS SNI supported enabled”</strong> yazısı ile karşılaştık yani <strong>nginx</strong> bu sürümünde <strong>SNI</strong> desteği aktif olarak geliyor.Şimdi biz bu desteği gördüğümüz için kurulum evresine geçebiliriz.Standart bir Nginx site nasıl kuruluyorsa o şekilde kurulum olacak tek farkı <strong>SSL sertifika</strong> komutlarına gereken sertifikaları gireceğiz ve aktif edeceğiz.</p>

<p>2 site için kurulumu göstereceğim daha fazla sitedede kullanabilirsiniz hiç fark etmiyor sadece <strong>SSL</strong> sertifikası ihtiyacınız olacaktır.</p>

<p>mertcangokgoz.com için</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    mkdir -p /etc/nginx/ssl/mertcangokgoz.com
</code></pre>
</div>

<p>mertcangokgoz.org için</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    mkdir -p /etc/nginx/ssl/mertcangokgoz.org
</code></pre>
</div>

<p>Şimdi 2 site içinde issue edilebilsin diye key ve bunun sonrasında <strong>csr</strong> oluşturmamız gerekecek.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    cd /etc/nginx/ssl/mertcangokgoz.com
</code></pre>
</div>

<p>klasörü içerisine giriş yapıyoruz.Aşağıdaki komutlar ile <strong>SSL</strong> kurulumuna başlıyoruz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    openssl ecparam -out www_mertcangokgoz_com.pkey -name prime256v1 -genkey &amp;&amp; openssl req -new -key www_mertcangokgoz_com.pkey -nodes -out www_mertcangokgoz_com.csr -subj "/C=TR/ST=TR/L=Ankara/O=Mertcan/OU=Mertcan/CN=www.mertcangokgoz.com"
</code></pre>
</div>

<p><strong>.org</strong> uzantısı içinde aynı aşamayı yapacağız bunun için ise</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    cd /etc/nginx/ssl/mertcangokgoz.org
</code></pre>
</div>

<p>klasör içerisine giriş yaptık ve ssl için kurulum parametrelerini giriyoruz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    openssl ecparam -out www_mertcangokgoz_org.pkey -name prime256v1 -genkey &amp;&amp; openssl req -new -key www_mertcangokgoz_org.pkey -nodes -out www_mertcangokgoz_org.csr -subj "/C=TR/ST=TR/L=Ankara/O=Mertcan/OU=Mertcan/CN=www.mertcangokgoz.org"
</code></pre>
</div>

<p>Şimdi gereken dosyalar ile keyinizi onaylayabileceğiniz bir firma buluyorsunuz <a href="https://www.ssls.com/">SSLS sitesini</a> bu iş için kullanabilirsiniz oldukça uygun fiyatlarda <strong>SSL</strong> sertifikaları bulunuyor.Oluşturduğunuz <strong>.key</strong> ve <strong>.csr</strong> olacak 2 şey adet bunlardan .csr olanını firmaya gönderiyorsunuz ve firma size 3 adet dosya gönderiyor yaklaşık onaylanması 1-5 dk sürebilir.</p>

<p>Gönderilen bu dosyalar içerisinden gereken işlemi yapalım</p>

<p>Size verilen ve domain adınızı içeren sonu .crt olan sertifika ile CA sertifikasını birleştiriyoruz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    cat siteadresi.com.crt CA.crt &gt;&gt; chainbundle.crt
</code></pre>
</div>

<p>Şimdi birleştirdiğimiz crt dosyasını domainin klasörüne atıyorsunuz ve şu şekilde ilk domaini tanımlıyorsunuz.Tanımlama yaptıktan sonra aynı klasör içerisinde <strong>.key</strong> uzantılı bir private keyiniz olacak bu keyin isminide <strong>ssl_certificate_key</strong> satırına gireceğiz</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    server {

    listen 443;

    ssl on;
    ssl_certificate /etc/nginx/ssl/chainbundle.crt;
    ssl_certificate_key /etc/nginx/ssl/siteadi.com.key;
    .
    .
    .
    .
    }
</code></pre>
</div>

<p>Bir sonraki domain içinde aynı aşamaları izliyorsunuz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    cat siteadresi.org.crt CA.crt &gt;&gt; chainbundle.crt
</code></pre>
</div>

<p>birleştirilmiş olan <strong>crt</strong> dosyasını tekrardan tanımlanacak domainin klasörüne atıyorsunuz ve şu şekilde ikinci domain’i tanımlıyorsunuz. Tanımlama yaptıktan sonra aynı klasör içerisinde <strong>.key</strong> uzantılı bir private keyiniz olacak bu keyin isminide <strong>ssl_certificate_key</strong> satırına gireceğiz ilk domain adresinde yaptığımız gibi</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    server {

    listen 443;

    ssl on;
    ssl_certificate /etc/nginx/ssl/chainbundle.crt;
    ssl_certificate_key /etc/nginx/ssl/siteadi.org.key;
    .
    .
    .
    .
    }
</code></pre>
</div>

<p>işlemler bu şekilde tamamlanıyor.Şimdi yapacağınız şey <strong>nginx</strong> yeniden başlatmak</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    service nginx restart
</code></pre>
</div>

<p>Başarılı bir şekilde yeniden başlattığınızda aynı ip üzerinde iki farklı site içinde <strong>SSL</strong> kullanmış olacaksınız.</p>

</div>

<hr style="margin:20px;">
<p><small class="edit">Bir şeyler bu yazıda doğru ya da eksik değil mi? <a href="https://github.com/MertcanGokgoz/mertcangokgoz.github.io/edit/jekyll/_posts/2015-12-27-tek-ip-adresine-birden-cok-ssl-kurulumu.md" target="_blank">Düzenleyin ve pull request Oluşturun</a></small></p>


<div id="paylasim">
<h3>Bu yazıyı paylaş:</h3>
<a href="https://www.facebook.com/sharer/sharer.php?u=https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-facebook-square fa share-button"> Facebook</i>
</a>
<a href="https://twitter.com/intent/tweet?text=Tek İP Adresine Birden Çok SSL Kurulumu&url=https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/&via=mertcangokgoz&related=mertcangokgoz" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;">
    <i class="fa fa-twitter-square fa share-button"> Twitter</i>
</a>
<a href="https://plus.google.com/share?url=https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-google-plus-square fa share-button"> Google</i>
</a>
<a href="http://www.reddit.com/submit?url=https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/&title=Tek İP Adresine Birden Çok SSL Kurulumu" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-reddit-square fa share-button"> Reddit</i>
</a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/&title=Tek İP Adresine Birden Çok SSL Kurulumu&summary=&source=webjeda" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-linkedin-square fa share-button"> Linkedin</i>
</a>
<a href="mailto:?subject=Tek İP Adresine Birden Çok SSL Kurulumu&amp;body=Check out this site https://mertcangokgoz.com/tek-ip-adresine-birden-cok-ssl-kurulumu/">
    <i class="fa fa-envelope-square fa share-button"> Email</i>
</a>
</div>


<div class="ajaxloadcomment"><button class="show-comments">Yorumları yükle</button></div>
<div itemprop="comment" id="disqus_thread"></div>
<script>
$(document).ready(function() {
    $('.show-comments').on('click', function(){
          var disqus_shortname = 'mertcanofficial';

          $.ajax({
                  type: "GET",
                  url: "//" + disqus_shortname + ".disqus.com/embed.js",
                  dataType: "script",
                  cache: true
          });
          $(this).fadeOut();
    });
});
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



      <div class="footer">
        <div class="disclaimer">
  
  <p>
    Bu sitedeki gönderiler bana aittir ve iş verenime ait pozisyonlar,
    stratejiler veya görüşler temsil edilmemektedir.<br>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Atıf-Paylaşım Lisansı</a> altındadır.<br>
        <a href="/ders-notlari/">Ders Notları</a>
        <span> | </span><a href="/gizlilik-politikasi/">Gizlilik Politikası</a>
        <span> | </span><a href="/kullanim-kosullari/">Kullanım Koşulları</a>
        <span> | </span><a href="/hakkimda/">Hakkımda</a>
        <span> | </span><a href="/iletisim/">İletişim</a><br>
        <b>BTC:</b> 36DFx4anTdsx3AnBiA1oqR3oHkMV3RJME1<br>
        <a href="/hosted/">Hosted By </a> © Mertcan GÖKGÖZ, 2017 - Linux Hacısı
  </p>
  
</div>

      </div>
    </div>
  </div>
  <div id="up">
    <a href="javascript:"><i class="fa fa-arrow-up fa-2x"></i></a>
  </div>







</body>
</html>
