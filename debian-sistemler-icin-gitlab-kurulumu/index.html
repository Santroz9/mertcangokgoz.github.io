<!doctype html>
<html class="no-js" lang="tr-TR">
<head>
  <meta charset="UTF-8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Debian Üzerine GitLab Kurulumu( Omnibus Yöntemi) | Mertcan GÖKGÖZ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Jekyll">
  <link href="https://plus.google.com/103305118431759296457" rel="publisher" />
  <!-- Begin Jekyll SEO tag v2.1.0 -->
<meta property="og:title" content="Debian Üzerine GitLab Kurulumu( Omnibus Yöntemi)" />
<meta name="description" content="Piyasada self-hosted olarak kullanabileceğiniz pek çok git uygulaması bulunmuyor. İçlerinden 2 tanesi oldukça güzel bizim için bu yüzdende" />
<meta property="og:description" content="Piyasada self-hosted olarak kullanabileceğiniz pek çok git uygulaması bulunmuyor. İçlerinden 2 tanesi oldukça güzel bizim için bu yüzdende" />
<link rel="canonical" href="https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/" />
<meta property="og:url" content="https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/" />
<meta property="og:site_name" content="Mertcan GÖKGÖZ - Özgür Yazılım, Sunucu Yönetimi ve Hizmetleri" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-10-15T00:00:00+03:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mertcangokgoz" />
<meta name="twitter:creator" content="@http://twitter.com/mertcangokgoz" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Debian Üzerine GitLab Kurulumu( Omnibus Yöntemi)",
"datePublished": "2016-10-15T00:00:00+03:00",
"description": "Piyasada self-hosted olarak kullanabileceğiniz pek çok git uygulaması bulunmuyor. İçlerinden 2 tanesi oldukça güzel bizim için bu yüzdende",
"url": "https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/"}</script>
<!-- End Jekyll SEO tag -->

  
  <meta name="author" content="Mertcan GÖKGÖZ" />
  <meta name="distribution" content="global"/>
  <meta name="robots" content="follow, all"/>
  <meta name="google-site-verification" content="72uYg4UxAer0YwWdtkU93OGqjNq7ZThpqe0M4KxyvIg"/>
  <meta name='yandex-verification' content='410f2e33fe81ce80'/>
  <meta name="msvalidate.01" content="2183CAED5258723C183F825A20DF9C4A"/>
  <link rel="alternate" type="application/rss+xml" title="Mertcan GÖKGÖZ" href="https://mertcangokgoz.com/feed" />
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/all.css">
  <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css">
  <script type="text/javascript" src="/assets/js/jquery-1.12.4.min.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png">
</head>
<body>
<div class="container">
    <div class="three columns sidebar">
      <nav class="nav">
  <a href="/">
    <img src="/YeniResimBro.jpg" id="gravatar" alt="Mertcan GÖKGÖZ" width="200" height="200"/>
  </a>
  <h3><a href="/">Mertcan GÖKGÖZ</a></h3>
  <div id="bio">
    <p>
        Kategoriler:<br>

        <a href="/category/linux">Linux</a> &raquo; 239 Yazı<br><a href="/category/programlama">Programlama</a> &raquo; 79 Yazı<br><a href="/category/genel">Genel</a> &raquo; 70 Yazı<br><a href="/category/guvenlik">Guvenlik</a> &raquo; 54 Yazı<br><a href="/category/windows">Windows</a> &raquo; 38 Yazı<br><a href="/category/analiz">Analiz</a> &raquo; 21 Yazı<br><a href="/category/jekyll">Jekyll</a> &raquo; 16 Yazı<br><a href="/category/nginx">Nginx</a> &raquo; 15 Yazı<br><a href="/category/egitimler">Egitimler</a> &raquo; 6 Yazı<br>
        <br>
        Arkadaşlar:<br>
        <a href="https://oztaser.com/" target="_blank" rel="nofollow">Adil ÖZTAŞER</a><br>
        <a href="https://aligoren.com/" target="_blank" rel="nofollow">Ali GÖREN</a><br>
        <a href="https://www.ceyhanmolla.com/" target="_blank" rel="nofollow">Ceyhan MOLLA</a><br>
        <a href="https://0x6.pw/" target="_blank" rel="nofollow">Enes ERGÜN</a><br>
        <a href="http://furkankalkan.com/" target="_blank" rel="nofollow">Furkan KALKAN</a><br>
        <a href="http://www.hamdicatal.com/" target="_blank" rel="nofollow">Hamdi ÇATAL</a><br>
        <a href="https://onur.im/" target="_blank" rel="nofollow">Onur ASLAN</a><br>
        <a href="http://www.omeripek.com.tr" target="_blank" rel="nofollow">Ömer IPEK</a><br>
        <a href="https://yapaygerizeka.github.io/" target="_blank" rel="nofollow">Yapay Geri Zekâ</a><br>
    </p>
  </div>
  <div id="social">
    Takip Edin:
<div id="stalker">
   

   
   <a title="MertcanGokgoz on Academia" href="https://baskent.academia.edu/MertcanGokgoz" target="_blank" rel="nofollow">
     <i class="fa fa-book"></i>
   </a>
   

  
  <a title="MertcanGokgoz on Github" href="https://github.com/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-github-square"></i>
  </a>
  

  
  <a title="MertcanGokgoz on Gitlab" href="https://gitlab.com/u/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-gitlab"></i>
  </a>
  

  

  

  

  

  

  
  <a title="mertcangokgoz on Twitter" href="https://twitter.com/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-twitter-square"></i>
  </a>
  

  

  

  
  <a title="Mertcan GÖKGÖZ on LinkedIn" href="https://www.linkedin.com/in/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  
  <a title="Mertcan GÖKGÖZ on Google Plus" href="https://plus.google.com/103305118431759296457" target="_blank" rel="nofollow">
    <i class="fa fa-google-plus-square"></i>
  </a>
  

  

  
  <a title="Mertcan GÖKGÖZ on Youtube" href="https://www.youtube.com/c/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-youtube"></i>
  </a>
  

  
  <a title="RSS feed" id="atom" href="/feed/">
    <i class="fa fa-rss-square"></i>
  </a>
  
</div>

  </div>
</nav>

    </div>
    <div class="nine columns content">
        <div class="menuM">
    <ul class="topnav">
        <li><a class="active" href="https://mertcangokgoz.com/">Anasayfa</a></li>
        <li><a href="https://mertcangokgoz.com/category/analiz/">Analiz</a></li>
        <li><a href="https://mertcangokgoz.com/category/genel/">Genel</a></li>
        <li><a href="https://mertcangokgoz.com/category/guvenlik/">Güvenlik</a></li>
        <li><a href="https://mertcangokgoz.com/category/linux/">Linux</a></li>
        <li><a href="https://mertcangokgoz.com/category/windows/">Windows</a></li>
        <li><a href="https://mertcangokgoz.com/category/jekyll/">Jekyll</a></li>
        <li><a href="https://mertcangokgoz.com/category/nginx/">Nginx</a></li>
        <li><a href="https://mertcangokgoz.com/category/egitimler/">Egitimler</a></li>
        <li><a href="https://mertcangokgoz.com/category/programlama/">Programlama</a></li>
        <li class="icon">
            <a href="javascript:void(0);" style="font-size:15px;" onclick="myFunction()"><i class="fa fa-bars"></i></a>
        </li>
    </ul>
</div>

<script>
    function myFunction() {
        document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
    }
</script>


<p class="meta">
  October 15, 2016
  <a href="/">
    <i class="home fa fa-home fa-2x"></i>
  </a>
  <a href="/search/">
    <i class="home fa fa-search fa-2x"></i>
  </a>
  <a href="javascript:" onclick="window.print();return false;">
    <i class="home fa fa-print fa-2x"></i>
  </a>
</p>

<!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="//mertcangokgoz.us14.list-manage.com/subscribe/post?u=17577b0e4d2ef9aad57eb98fd&amp;id=db66efe5bf" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Posta listemize üye olun</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_17577b0e4d2ef9aad57eb98fd_db66efe5bf" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>
<!--End mc_embed_signup-->


<h1 class="title">Debian Üzerine GitLab Kurulumu( Omnibus Yöntemi)</h1>

<div id="post">
  <p>Piyasada <code class="highlighter-rouge">self-hosted</code> olarak kullanabileceğiniz pek çok git uygulaması bulunmuyor. İçlerinden 2 tanesi oldukça güzel bizim için bu yüzdende birisini seçmemiz gerekiyordu ve bu anlatımda <code class="highlighter-rouge">GitLab</code> seçtim hem özellikleri oldukça güzel hemde topluluk sürümü diğer uygulamalara göre daha çok özelliği bünyesinde barındırıyor.</p>

<p>Bu anlatım sırasında <strong>Debian 8.6</strong> işletim sistemi ve 4 GB ramli bir sunucu tercih ettim. Daha hızlı işlem yapabilmemiz için ramin yüksek olması gerekiyor. Minimum 1 GB ram kullanabiliriz ama swap alanının 4 gb kadar olması gerekiyor.</p>

<p>Temel kurulum işlemlerimiz <strong>SMTP</strong> servislerimiz ve bu servisin ihtiyaç duyduğu paketler ile gerekenlerin kurulması</p>

<div class="highlighter-rouge"><pre class="highlight"><code>apt-get install -y curl openssh-server ca-certificates postfix sudo
</code></pre>
</div>

<p>Şimdi depo yu sistemimize dahil edelim topluluk sürümünü kullanacağımız için durum şu şekilde olacak</p>

<div class="highlighter-rouge"><pre class="highlight"><code>curl -sS https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | sudo bash
</code></pre>
</div>

<p>Kurulumu yapmadan önce sistemdeki git sürümünü kontrol ediyoruz. çünkü Gitlab git 2.7.4 ve üst sürümlerde sıkıntısız çalışabiliyor.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>git --version
</code></pre>
</div>

<p>Sürüm çıktısı 2.7.4 den düşük ise lütfen sisteminizde bu konuda bir güncelleme yapınız. Tüm her şeyin tamamlandığını düşünüyorsanız. Kuruluma geçebilirsiniz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>apt-get install gitlab-ce
</code></pre>
</div>

<p>Yaklaşık <strong>301 MB</strong> kadar gerekli olan dosyasını indirecek ve sisteme dahil edecek ardından şu şekilde bir çıktı ile karşılaşacaksınız.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>       *.                  *.
      ***                 ***
     *****               *****
    .******             *******
    ********            ********
   ,,,,,,,,,***********,,,,,,,,,
  ,,,,,,,,,,,*********,,,,,,,,,,,
  .,,,,,,,,,,,*******,,,,,,,,,,,,
      ,,,,,,,,,*****,,,,,,,,,.
         ,,,,,,,****,,,,,,
            .,,,***,,,,
                ,*,.
     _______ __  __          __
    / ____(_) /_/ /   ____ _/ /_
   / / __/ / __/ /   / __ `/ __ \
  / /_/ / / /_/ /___/ /_/ / /_/ /
  \____/_/\__/_____/\__,_/_.___/

gitlab: Thank you for installing GitLab!
gitlab: To configure and start GitLab, RUN THE FOLLOWING COMMAND:

sudo gitlab-ctl reconfigure

gitlab: GitLab should be reachable at http://debian-4gb-nyc2-01
gitlab: Otherwise configure GitLab for your system by editing /etc/gitlab/gitlab.rb file
gitlab: And running reconfigure again.
gitlab:
gitlab: For a comprehensive list of configuration options please see the Omnibus GitLab readme
gitlab: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md
gitlab:
It looks like GitLab has not been configured yet; skipping the upgrade script.
</code></pre>
</div>

<p>Şimdi sıra yukarıdaki çıktının da bize söylediği gibi ayarlamalarını yapmamız gerekiyor böylelikle tüm herşeyi tamamlamış olacağız.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo gitlab-ctl reconfigure
</code></pre>
</div>

<p>Terminal ekranınızda uzunca bir süre bir takım yazılar kayacak sistem ekipmanlarını çalıştıracak kurulumları gerçekleştirecek.</p>

<p>Kurulumun tamamlandığını şununla anlayabilirsiniz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Running handlers:
Running handlers complete
Chef Client finished, 223/311 resources updated in 01 minutes 38 seconds
gitlab Reconfigured!
</code></pre>
</div>

<p>Bu şekilde ön tanımlı kurulumu gerçekleştirdik. Ancak isterseniz de aşağıdaki dosyayı düzenleyerek özel bir kurulum gerçekleştirebilirsiniz.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>nano /etc/gitlab/gitlab.rb
</code></pre>
</div>

<p>Peki bu dosyamızın içeriğinde neler var</p>

<noscript><pre>## Configuration options with # in front are not active and they were
## valid at install time. Updating the package does not update this file
## automatically.
## Latest options listed at:
## https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template


## Url on which GitLab will be reachable.
## For more details on configuring external_url see:
## https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/configuration.md#configuring-the-external-url-for-gitlab
external_url &#39;GENERATED_EXTERNAL_URL&#39;


## Note: configuration settings below are optional.
## Uncomment and change the value.
############################
# gitlab.yml configuration #
############################

# gitlab_rails[&#39;gitlab_ssh_host&#39;] = &#39;ssh.host_example.com&#39;
# gitlab_rails[&#39;time_zone&#39;] = &#39;UTC&#39;
# gitlab_rails[&#39;gitlab_email_enabled&#39;] = true
# gitlab_rails[&#39;gitlab_email_from&#39;] = &#39;example@example.com&#39;
# gitlab_rails[&#39;gitlab_email_display_name&#39;] = &#39;Example&#39;
# gitlab_rails[&#39;gitlab_email_reply_to&#39;] = &#39;noreply@example.com&#39;
# gitlab_rails[&#39;gitlab_default_can_create_group&#39;] = true
# gitlab_rails[&#39;gitlab_username_changing_enabled&#39;] = true
# gitlab_rails[&#39;gitlab_default_theme&#39;] = 2
# gitlab_rails[&#39;gitlab_default_projects_features_issues&#39;] = true
# See http://doc.gitlab.com/ce/customization/issue_closing.html for more information about this pattern.
# gitlab_rails[&#39;gitlab_issue_closing_pattern&#39;] = &quot;((?:[Cc]los(?:e[sd]?|ing)|[Ff]ix(?:e[sd]|ing)?) +(?:(?:issues? +)?%{issue_ref}(?:(?:, *| +and +)?))+)&quot;
# gitlab_rails[&#39;gitlab_default_projects_features_merge_requests&#39;] = true
# gitlab_rails[&#39;gitlab_default_projects_features_wiki&#39;] = true
# gitlab_rails[&#39;gitlab_default_projects_features_snippets&#39;] = false
# gitlab_rails[&#39;gitlab_default_projects_features_builds&#39;] = true
# gitlab_rails[&#39;gitlab_default_projects_features_container_registry&#39;] = true
# gitlab_rails[&#39;gitlab_repository_downloads_path&#39;] = &#39;tmp/repositories&#39;
# gitlab_rails[&#39;gravatar_plain_url&#39;] = &#39;http://www.gravatar.com/avatar/%{hash}?s=%{size}&amp;d=identicon&#39;
# gitlab_rails[&#39;gravatar_ssl_url&#39;] = &#39;https://secure.gravatar.com/avatar/%{hash}?s=%{size}&amp;d=identicon&#39;
# gitlab_rails[&#39;stuck_ci_builds_worker_cron&#39;] = &quot;0 0 * * *&quot;

# See http://docs.gitlab.com/ce/ci/yaml/README.html#artifacts:expire_in
# gitlab_rails[&#39;expire_build_artifacts_worker_cron&#39;] = &quot;50 * * * *&quot;

# gitlab_rails[&#39;repository_check_worker_cron&#39;] = &quot;20 * * * *&quot;
# gitlab_rails[&#39;admin_email_worker_cron&#39;] = &quot;0 0 * * 0&quot;
# gitlab_rails[&#39;repository_archive_cache_worker_cron&#39;] = &quot;0 * * * *&quot;
# gitlab_rails[&#39;historical_data_worker_cron&#39;] = &quot;0 12 * * *&quot;
# gitlab_rails[&#39;update_all_mirrors_worker_cron&#39;] = &quot;0 * * * *&quot;
# gitlab_rails[&#39;update_all_remote_mirrors_worker_cron&#39;] = &quot;30 * * * *&quot;
# gitlab_rails[&#39;ldap_sync_worker_cron&#39;] = &quot;30 1 * * *&quot;
# gitlab_rails[&#39;geo_bulk_notify_worker_cron&#39;] = &quot;*/10 * * * * *&quot;
# gitlab_rails[&#39;webhook_timeout&#39;] = 10
# gitlab_rails[&#39;trusted_proxies&#39;] = []

## Reply by email
# Allow users to comment on issues and merge requests by replying to notification emails.
# For documentation on how to set this up, see http://doc.gitlab.com/ce/incoming_email/README.html
# gitlab_rails[&#39;incoming_email_enabled&#39;] = true
#
# # The email address including the `%{key}` placeholder that will be replaced to reference the item being replied to.
# # The placeholder can be omitted but if present, it must appear in the &quot;user&quot; part of the address (before the `@`).
# gitlab_rails[&#39;incoming_email_address&#39;] = &quot;gitlab-incoming+%{key}@gmail.com&quot;
#
# # Email account username
# # With third party providers, this is usually the full email address.
# # With self-hosted email servers, this is usually the user part of the email address.
# gitlab_rails[&#39;incoming_email_email&#39;] = &quot;gitlab-incoming@gmail.com&quot;
# # Email account password
# gitlab_rails[&#39;incoming_email_password&#39;] = &quot;[REDACTED]&quot;
#
# # IMAP server host
# gitlab_rails[&#39;incoming_email_host&#39;] = &quot;imap.gmail.com&quot;
# # IMAP server port
# gitlab_rails[&#39;incoming_email_port&#39;] = 993
# # Whether the IMAP server uses SSL
# gitlab_rails[&#39;incoming_email_ssl&#39;] = true
# # Whether the IMAP server uses StartTLS
# gitlab_rails[&#39;incoming_email_start_tls&#39;] = false
#
# # The mailbox where incoming mail will end up. Usually &quot;inbox&quot;.
# gitlab_rails[&#39;incoming_email_mailbox_name&#39;] = &quot;inbox&quot;
#
# gitlab_rails[&#39;incoming_email_log_directory&#39;] = &quot;/var/log/gitlab/mailroom&quot;

## Build Artifacts
# gitlab_rails[&#39;artifacts_enabled&#39;] = true
# gitlab_rails[&#39;artifacts_path&#39;] = &quot;/mnt/storage/artifacts&quot;

## Git LFS
# gitlab_rails[&#39;lfs_enabled&#39;] = true
# gitlab_rails[&#39;lfs_storage_path&#39;] = &quot;/mnt/storage/lfs-objects&quot;

## ElasticSearch (EE only)
# gitlab_rails[&#39;elasticsearch_enabled&#39;] = false
# gitlab_rails[&#39;elasticsearch_host&#39;] = &quot;localhost&quot;
# gitlab_rails[&#39;elasticsearch_port&#39;] = 9200

## GitLab Pages (EE only)
# gitlab_rails[&#39;pages_path&#39;] = &quot;/mnt/storage/pages&quot;

## For setting up LDAP
## see https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md#setting-up-ldap-sign-in
## Be careful not to break the indentation in the ldap_servers block. It is in
## yaml format and the spaces must be retained. Using tabs will not work.

# gitlab_rails[&#39;ldap_enabled&#39;] = false
# gitlab_rails[&#39;ldap_servers&#39;] = YAML.load &lt;&lt;-&#39;EOS&#39; # remember to close this block with &#39;EOS&#39; below
#   main: # &#39;main&#39; is the GitLab &#39;provider ID&#39; of this LDAP server
#     label: &#39;LDAP&#39;
#     host: &#39;_your_ldap_server&#39;
#     port: 389
#     uid: &#39;sAMAccountName&#39;
#     method: &#39;plain&#39; # &quot;tls&quot; or &quot;ssl&quot; or &quot;plain&quot;
#     bind_dn: &#39;_the_full_dn_of_the_user_you_will_bind_with&#39;
#     password: &#39;_the_password_of_the_bind_user&#39;
#     active_directory: true
#     allow_username_or_email_login: false
#     block_auto_created_users: false
#     base: &#39;&#39;
#     user_filter: &#39;&#39;
#     attributes:
#       username: [&#39;uid&#39;, &#39;userid&#39;, &#39;sAMAccountName&#39;]
#       email:    [&#39;mail&#39;, &#39;email&#39;, &#39;userPrincipalName&#39;]
#       name:       &#39;cn&#39;
#       first_name: &#39;givenName&#39;
#       last_name:  &#39;sn&#39;
#     ## EE only
#     group_base: &#39;&#39;
#     admin_group: &#39;&#39;
#     sync_ssh_keys: false
#
#   secondary: # &#39;secondary&#39; is the GitLab &#39;provider ID&#39; of second LDAP server
#     label: &#39;LDAP&#39;
#     host: &#39;_your_ldap_server&#39;
#     port: 389
#     uid: &#39;sAMAccountName&#39;
#     method: &#39;plain&#39; # &quot;tls&quot; or &quot;ssl&quot; or &quot;plain&quot;
#     bind_dn: &#39;_the_full_dn_of_the_user_you_will_bind_with&#39;
#     password: &#39;_the_password_of_the_bind_user&#39;
#     active_directory: true
#     allow_username_or_email_login: false
#     block_auto_created_users: false
#     base: &#39;&#39;
#     user_filter: &#39;&#39;
#     attributes:
#       username: [&#39;uid&#39;, &#39;userid&#39;, &#39;sAMAccountName&#39;]
#       email:    [&#39;mail&#39;, &#39;email&#39;, &#39;userPrincipalName&#39;]
#       name:       &#39;cn&#39;
#       first_name: &#39;givenName&#39;
#       last_name:  &#39;sn&#39;
#     ## EE only
#     group_base: &#39;&#39;
#     admin_group: &#39;&#39;
#     sync_ssh_keys: false
# EOS

## Setting up Kerberos (EE only)
## See http://doc.gitlab.com/ee/integration/kerberos.html#http-git-access
# gitlab_rails[&#39;kerberos_enabled&#39;] = true
# gitlab_rails[&#39;kerberos_keytab&#39;] = /etc/http.keytab
# gitlab_rails[&#39;kerberos_service_principal_name&#39;] = HTTP/gitlab.example.com@EXAMPLE.COM
# gitlab_rails[&#39;kerberos_use_dedicated_port&#39;] = true
# gitlab_rails[&#39;kerberos_port&#39;] = 8443
# gitlab_rails[&#39;kerberos_https&#39;] = true

## For setting up omniauth
## see https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md#omniauth-google-twitter-github-login

# gitlab_rails[&#39;omniauth_enabled&#39;] = false
# gitlab_rails[&#39;omniauth_allow_single_sign_on&#39;] = [&#39;saml&#39;]
# gitlab_rails[&#39;omniauth_auto_sign_in_with_provider&#39;] = &#39;saml&#39;
# gitlab_rails[&#39;omniauth_block_auto_created_users&#39;] = true
# gitlab_rails[&#39;omniauth_auto_link_ldap_user&#39;] = false
# gitlab_rails[&#39;omniauth_auto_link_saml_user&#39;] = false
# gitlab_rails[&#39;omniauth_external_providers&#39;] = [&#39;twitter&#39;, &#39;google_oauth2&#39;]
# gitlab_rails[&#39;omniauth_providers&#39;] = [
#   {
#     &quot;name&quot; =&gt; &quot;google_oauth2&quot;,
#     &quot;app_id&quot; =&gt; &quot;YOUR APP ID&quot;,
#     &quot;app_secret&quot; =&gt; &quot;YOUR APP SECRET&quot;,
#     &quot;args&quot; =&gt; { &quot;access_type&quot; =&gt; &quot;offline&quot;, &quot;approval_prompt&quot; =&gt; &quot;&quot; }
#   }
# ]
#
# If you setup bitbucket importer under omniauth providers you will need to add the keys
# which will allow connection between bitbucket and gitlab.
# For details see http://doc.gitlab.com/ce/integration/bitbucket.html
# gitlab_rails[&#39;bitbucket&#39;] = {
#  &#39;known_hosts_key&#39; =&gt; &#39;bitbucket.org,207.223.240.182 ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAubiN81eDcafrgMeLzaFPsw2kNvEcqTKl/VqLat/MaB33pZy0y3rJZtnqwR2qOOvbwKZYKiEO1O6VqNEBxKvJJelCq0dTXWT5pbO2gDXC6h6QDXCaHo6pOHGPUy+YBaGQRGuSusMEASYiWunYN0vCAI8QaXnWMXNMdFP3jHAJH0eDsoiGnLPBlBp4TNm6rYI74nMzgz3B9IikW4WVK+dc8KZJZWYjAuORU3jc1c/NPskD2ASinf8v3xnfXeukU0sJ5N6m5E8VLjObPEO+mN2t/FZTMZLiFqPWc/ALSqnMnnhwrNi2rbfg/rd/IpL8Le3pSBne8+seeFVBoGqzHM9yXw==&#39;,
#  &#39;private_key&#39; =&gt; &#39;-----BEGIN RSA PRIVATE KEY-----
#   MIIEowIBAAKCAQEAyXxYHwz2KjcwSjTREwlhYHqrf/8U0UM8ej3cqQ551gE4Wo3t
#   -----END RSA PRIVATE KEY-----&#39;,
#  &#39;public_key&#39; =&gt; &#39;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDJfFgfDPYqN git@gitlab.example.com&#39;
# }

## For setting up backups
## see https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md#backups

# gitlab_rails[&#39;manage_backup_path&#39;] = true
# gitlab_rails[&#39;backup_path&#39;] = &quot;/var/opt/gitlab/backups&quot;
# gitlab_rails[&#39;backup_archive_permissions&#39;] = 0644 # See: http://doc.gitlab.com/ce/raketasks/backup_restore.html#backup-archive-permissions
# gitlab_rails[&#39;backup_pg_schema&#39;] = &#39;public&#39;
# gitlab_rails[&#39;backup_keep_time&#39;] = 604800
# gitlab_rails[&#39;backup_upload_connection&#39;] = {
#   &#39;provider&#39; =&gt; &#39;AWS&#39;,
#   &#39;region&#39; =&gt; &#39;eu-west-1&#39;,
#   &#39;aws_access_key_id&#39; =&gt; &#39;AKIAKIAKI&#39;,
#   &#39;aws_secret_access_key&#39; =&gt; &#39;secret123&#39;
# }
# gitlab_rails[&#39;backup_upload_remote_directory&#39;] = &#39;my.s3.bucket&#39;
# gitlab_rails[&#39;backup_multipart_chunk_size&#39;] = 104857600
# gitlab_rails[&#39;backup_encryption&#39;] = &#39;AES256&#39; # Turns on AWS Server-Side Encryption with Amazon S3-Managed Keys for backups

## For setting up different data storing directory
## see https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md#storing-git-data-in-an-alternative-directory
## If you want to use a single non-default directory to store git data use
## a path that doesn&#39;t contain symlinks.
# git_data_dirs({&quot;default&quot; =&gt; &quot;/var/opt/gitlab/git-data&quot;})

## For storing GitLab application uploads, eg. LFS objects, build artifacts
## see https://gitlab.com/gitlab-org/gitlab-ce/blob/master/doc/development/shared_files.md
# gitlab_rails[&#39;shared_path&#39;] = &#39;/var/opt/gitlab/gitlab-rails/shared&#39;

# DEPRECATED: gitlab_rails[&#39;satellites_timeout&#39;] = 30

## GitLab Shell settings for GitLab
# gitlab_rails[&#39;gitlab_shell_ssh_port&#39;] = 22
# gitlab_rails[&#39;git_max_size&#39;] = 20971520
# gitlab_rails[&#39;git_timeout&#39;] = 10

## Extra customization
# gitlab_rails[&#39;extra_google_analytics_id&#39;] = &#39;_your_tracking_id&#39;
# gitlab_rails[&#39;extra_piwik_url&#39;] = &#39;_your_piwik_url&#39;
# gitlab_rails[&#39;extra_piwik_site_id&#39;] = &#39;_your_piwik_site_id&#39;

# gitlab_rails[&#39;env&#39;] = {
#   &#39;BUNDLE_GEMFILE&#39; =&gt; &quot;/opt/gitlab/embedded/service/gitlab-rails/Gemfile&quot;,
#   &#39;PATH&#39; =&gt; &quot;/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin&quot;
# }

# gitlab_rails[&#39;rack_attack_git_basic_auth&#39;] = {
#   &#39;enabled&#39; =&gt; true,
#   &#39;ip_whitelist&#39; =&gt; [&quot;127.0.0.1&quot;],
#   &#39;maxretry&#39; =&gt; 10,
#   &#39;findtime&#39; =&gt; 60,
#   &#39;bantime&#39; =&gt; 3600
# }

# gitlab_rails[&#39;rack_attack_protected_paths&#39;] = [
#   &#39;/users/password&#39;,
#   &#39;/users/sign_in&#39;,
#   &#39;/api/#{API::API.version}/session.json&#39;,
#   &#39;/api/#{API::API.version}/session&#39;,
#   &#39;/users&#39;,
#   &#39;/users/confirmation&#39;,
#   &#39;/unsubscribes/&#39;,
#   &#39;/import/github/personal_access_token&#39;
# ]

# We do not recommend changing these directories.
# gitlab_rails[&#39;dir&#39;] = &quot;/var/opt/gitlab/gitlab-rails&quot;
# gitlab_rails[&#39;log_directory&#39;] = &quot;/var/log/gitlab/gitlab-rails&quot;

###############################
# GitLab application settings #
###############################

# gitlab_rails[&#39;uploads_directory&#39;] = &quot;/var/opt/gitlab/gitlab-rails/uploads&quot;
# gitlab_rails[&#39;rate_limit_requests_per_period&#39;] = 10
# gitlab_rails[&#39;rate_limit_period&#39;] = 60

# Change the initial default admin password.
# Only applicable on inital setup, changing this setting after database is created and seeded
# won&#39;t yield any change.
# gitlab_rails[&#39;initial_root_password&#39;] = &quot;password&quot;

# Enable or disable automatic database migrations
# gitlab_rails[&#39;auto_migrate&#39;] = true

############################
# GitLab database settings #
############################
## see https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/database.md#database-settings
## Only needed if you use an external database.

# gitlab_rails[&#39;db_adapter&#39;] = &quot;postgresql&quot;
# gitlab_rails[&#39;db_encoding&#39;] = &quot;unicode&quot;
# gitlab_rails[&#39;db_collation&#39;] = nil
# gitlab_rails[&#39;db_database&#39;] = &quot;gitlabhq_production&quot;
# gitlab_rails[&#39;db_pool&#39;] = 10
# gitlab_rails[&#39;db_username&#39;] = &quot;gitlab&quot;
# gitlab_rails[&#39;db_password&#39;] = nil
# gitlab_rails[&#39;db_host&#39;] = nil
# gitlab_rails[&#39;db_port&#39;] = 5432
# gitlab_rails[&#39;db_socket&#39;] = nil
# gitlab_rails[&#39;db_sslmode&#39;] = nil
# gitlab_rails[&#39;db_sslrootcert&#39;] = nil


#########################
# GitLab redis settings #
#########################
## see https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/redis.md#redis-settings
## Connect to your own redis instance.

## Redis TCP connection
# gitlab_rails[&#39;redis_host&#39;] = &quot;127.0.0.1&quot;
# gitlab_rails[&#39;redis_port&#39;] = 6379
# gitlab_rails[&#39;redis_password&#39;] = nil
# gitlab_rails[&#39;redis_database&#39;] = 0

## Redis local UNIX socket (will be disabled if TCP method is used)
# gitlab_rails[&#39;redis_socket&#39;] = &quot;/var/opt/gitlab/redis/redis.socket&quot;

## Sentinel support
## To have sentinel working, you must enable Redis TCP connection support
## above ## and define a few sentinel hosts below (to get a reliable setup
## at least 3 hosts).
## You don&#39;t need to list every sentinel host, but the ones unlisted will
## not be used in a fail-over situation to query for the new master.
# gitlab_rails[&#39;redis_sentinels&#39;] = [
#   {&#39;host&#39; =&gt; &#39;127.0.0.1&#39;, &#39;port&#39; =&gt; 26379},
# ]

################################
# GitLab email server settings #
################################
# see https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/smtp.md#smtp-settings
# Use smtp instead of sendmail/postfix.

# gitlab_rails[&#39;smtp_enable&#39;] = true
# gitlab_rails[&#39;smtp_address&#39;] = &quot;smtp.server&quot;
# gitlab_rails[&#39;smtp_port&#39;] = 465
# gitlab_rails[&#39;smtp_user_name&#39;] = &quot;smtp user&quot;
# gitlab_rails[&#39;smtp_password&#39;] = &quot;smtp password&quot;
# gitlab_rails[&#39;smtp_domain&#39;] = &quot;example.com&quot;
# gitlab_rails[&#39;smtp_authentication&#39;] = &quot;login&quot;
# gitlab_rails[&#39;smtp_enable_starttls_auto&#39;] = true
# gitlab_rails[&#39;smtp_tls&#39;] = false
# gitlab_rails[&#39;smtp_openssl_verify_mode&#39;] = &#39;none&#39; # Can be: &#39;none&#39;, &#39;peer&#39;, &#39;client_once&#39;, &#39;fail_if_no_peer_cert&#39;, see http://api.rubyonrails.org/classes/ActionMailer/Base.html
# gitlab_rails[&#39;smtp_ca_path&#39;] = &quot;/etc/ssl/certs&quot;
# gitlab_rails[&#39;smtp_ca_file&#39;] = &quot;/etc/ssl/certs/ca-certificates.crt&quot;

###############################
# Container Registry settings #
###############################
# See https://docs.gitlab.com/ce/administration/container_registry.html
#

# registry_external_url &#39;https://registry.gitlab.example.com&#39;

## Settings used by GitLab application
# gitlab_rails[&#39;registry_enabled&#39;] = true
# gitlab_rails[&#39;registry_host&#39;] = &quot;registry.gitlab.example.com&quot;
# gitlab_rails[&#39;registry_port&#39;] = &quot;5005&quot;
# gitlab_rails[&#39;registry_path&#39;] = &quot;/var/opt/gitlab/gitlab-rails/shared/registry&quot;
#
## Do not change the following 3 settings unless you know what you are doing
#
# gitlab_rails[&#39;registry_api_url&#39;] = &quot;http://localhost:5000&quot;
# gitlab_rails[&#39;registry_key_path&#39;] = &quot;/var/opt/gitlab/gitlab-rails/certificate.key&quot;
# gitlab_rails[&#39;registry_issuer&#39;] = &quot;omnibus-gitlab-issuer&quot;

## Settings used by Registry application
# registry[&#39;enable&#39;] = true
# registry[&#39;username&#39;] = &quot;registry&quot;
# registry[&#39;group&#39;] = &quot;registry&quot;
# registry[&#39;uid&#39;] = nil
# registry[&#39;gid&#39;] = nil
# registry[&#39;dir&#39;] = &quot;/var/opt/gitlab/registry&quot;
# registry[&#39;registry_http_addr&#39;] = &quot;localhost:5000&quot;
# registry[&#39;debug_addr&#39;] = &quot;localhost:5001&quot;
# registry[&#39;log_directory&#39;] = &quot;/var/log/gitlab/registry&quot;
# registry[&#39;log_level&#39;] = &quot;info&quot;
# registry[&#39;rootcertbundle&#39;] = &quot;/var/opt/gitlab/registry/certificate.crt&quot;
# registry[&#39;storage_delete_enabled&#39;] = true
# # Registry backend storage, see http://docs.gitlab.com/ce/administration/container_registry.html#container-registry-storage-driver
# registry[&#39;storage&#39;] = {
#   &#39;s3&#39; =&gt; {
#     &#39;accesskey&#39; =&gt; &#39;AKIAKIAKI&#39;,
#     &#39;secretkey&#39; =&gt; &#39;secret123&#39;,
#     &#39;bucket&#39; =&gt; &#39;gitlab-registry-bucket-AKIAKIAKI&#39;
#   }
# }

####################
# GitLab Workhorse #
####################
# see https://gitlab.com/gitlab-org/gitlab-workhorse/blob/master/README.md

# gitlab_workhorse[&#39;enable&#39;] = true
# gitlab_workhorse[&#39;ha&#39;] = false
# gitlab_workhorse[&#39;listen_network&#39;] = &quot;unix&quot;
# gitlab_workhorse[&#39;listen_umask&#39;] = 000
# gitlab_workhorse[&#39;listen_addr&#39;] = &quot;/var/opt/gitlab/gitlab-workhorse/socket&quot;
# gitlab_workhorse[&#39;auth_backend&#39;] = &quot;http://localhost:8080&quot;
# gitlab_workhorse[&#39;auth_socket&#39;] = &quot;&#39;&#39;&quot; # the empty string is the default in gitlab-workhorse option parser
# gitlab_workhorse[&#39;pprof_listen_addr&#39;] = &quot;&#39;&#39;&quot; # put an empty string on the command line
# gitlab_workhorse[&#39;dir&#39;] = &quot;/var/opt/gitlab/gitlab-workhorse&quot;
# gitlab_workhorse[&#39;log_directory&#39;] = &quot;/var/log/gitlab/gitlab-workhorse&quot;
# gitlab_workhorse[&#39;proxy_headers_timeout&#39;] = &quot;1m0s&quot;
# gitlab_workhorse[&#39;api_limit&#39;] = 0 # limit number of concurrent API requests, defaults to 0 which is unlimited
# gitlab_workhorse[&#39;api_queue_limit&#39;] = 0 # limit number of API requests allowed to be queued, defaults to 0 which disables queuing
# gitlab_workhorse[&#39;api_queue_duration&#39;] = &quot;30s&quot; # duration after which we timeout requests if they sit too long in the queue
# gitlab_workhorse[&#39;env&#39;] = {
#   &#39;PATH&#39; =&gt; &quot;/opt/gitlab/bin:/opt/gitlab/embedded/bin:/bin:/usr/bin&quot;
# }

###############
# GitLab user #
###############
## see https://gitlab.com/gitlab-org/omnibus-gitlab/tree/master/README.md#changing-the-name-of-the-git-user-group
## Modify default git user.


# user[&#39;username&#39;] = &quot;git&quot;
# user[&#39;group&#39;] = &quot;git&quot;
# user[&#39;uid&#39;] = nil
# user[&#39;gid&#39;] = nil
# # The shell for the git user
# user[&#39;shell&#39;] = &quot;/bin/sh&quot;
# # The home directory for the git user
# user[&#39;home&#39;] = &quot;/var/opt/gitlab&quot;
# user[&#39;git_user_name&#39;] = &quot;GitLab&quot;
# user[&#39;git_user_email&#39;] = &quot;gitlab@#{node[&#39;fqdn&#39;]}&quot;

##################
# GitLab Unicorn #
##################
## Tweak unicorn settings.

# unicorn[&#39;worker_timeout&#39;] = 60
# unicorn[&#39;worker_processes&#39;] = 2

## Advanced settings
# unicorn[&#39;listen&#39;] = &#39;127.0.0.1&#39;
# unicorn[&#39;port&#39;] = 8080
# unicorn[&#39;socket&#39;] = &#39;/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket&#39;
# unicorn[&#39;pidfile&#39;] = &#39;/opt/gitlab/var/unicorn/unicorn.pid&#39;
# unicorn[&#39;tcp_nopush&#39;] = true
# unicorn[&#39;backlog_socket&#39;] = 1024
# Make sure somaxconn is equal or higher then backlog_socket
# unicorn[&#39;somaxconn&#39;] = 1024
# We do not recommend changing this setting
# unicorn[&#39;log_directory&#39;] = &quot;/var/log/gitlab/unicorn&quot;

## Only change these settings if you understand well what they mean
## see https://about.gitlab.com/2015/06/05/how-gitlab-uses-unicorn-and-unicorn-worker-killer/
## and https://github.com/kzk/unicorn-worker-killer
# unicorn[&#39;worker_memory_limit_min&#39;] = &quot;400 * 1 &lt;&lt; 20&quot;
# unicorn[&#39;worker_memory_limit_max&#39;] = &quot;650 * 1 &lt;&lt; 20&quot;


##################
# GitLab Sidekiq #
##################

# sidekiq[&#39;log_directory&#39;] = &quot;/var/log/gitlab/sidekiq&quot;
# sidekiq[&#39;shutdown_timeout&#39;] = 4
# sidekiq[&#39;concurrency&#39;] = 25


################
# gitlab-shell #
################

# gitlab_shell[&#39;audit_usernames&#39;] = false
# gitlab_shell[&#39;log_level&#39;] = &#39;INFO&#39;
# gitlab_shell[&#39;http_settings&#39;] = { user: &#39;username&#39;, password: &#39;password&#39;, ca_file: &#39;/etc/ssl/cert.pem&#39;, ca_path: &#39;/etc/pki/tls/certs&#39;, self_signed_cert: false}
# gitlab_shell[&#39;log_directory&#39;] = &quot;/var/log/gitlab/gitlab-shell/&quot;

## If enabled, git-annex needs to be installed on the server where gitlab is setup
# For Debian and Ubuntu systems this can be done with: sudo apt-get install git-annex
# For CentOS: sudo yum install epel-release &amp;&amp; sudo yum install git-annex
# gitlab_shell[&#39;git_annex_enabled&#39;] = false

# gitlab_shell[&#39;auth_file&#39;] = &quot;/var/opt/gitlab/.ssh/authorized_keys&quot;


#####################
# GitLab PostgreSQL #
#####################

# postgresql[&#39;enable&#39;] = true
# postgresql[&#39;listen_address&#39;] = nil
# postgresql[&#39;port&#39;] = 5432
# postgresql[&#39;data_dir&#39;] = &quot;/var/opt/gitlab/postgresql/data&quot;
# postgresql[&#39;shared_buffers&#39;] = &quot;256MB&quot; # recommend value is 1/4 of total RAM, up to 14GB.

## Advanced settings
# postgresql[&#39;ha&#39;] = false
# postgresql[&#39;dir&#39;] = &quot;/var/opt/gitlab/postgresql&quot;
# postgresql[&#39;log_directory&#39;] = &quot;/var/log/gitlab/postgresql&quot;
# postgresql[&#39;username&#39;] = &quot;gitlab-psql&quot;
# postgresql[&#39;uid&#39;] = nil
# postgresql[&#39;gid&#39;] = nil
# postgresql[&#39;shell&#39;] = &quot;/bin/sh&quot;
# postgresql[&#39;home&#39;] = &quot;/var/opt/gitlab/postgresql&quot;
# postgresql[&#39;user_path&#39;] = &quot;/opt/gitlab/embedded/bin:/opt/gitlab/bin:$PATH&quot;
# postgresql[&#39;sql_user&#39;] = &quot;gitlab&quot;
# postgresql[&#39;sql_ci_user&#39;] = &quot;gitlab_ci&quot;
# postgresql[&#39;max_connections&#39;] = 200
# postgresql[&#39;md5_auth_cidr_addresses&#39;] = []
# postgresql[&#39;trust_auth_cidr_addresses&#39;] = []
# postgresql[&#39;shmmax&#39;] =  17179869184 # or 4294967295
# postgresql[&#39;shmall&#39;] =  4194304 # or 1048575
# postgresql[&#39;work_mem&#39;] = &quot;8MB&quot;
# postgresql[&#39;maintenance_work_mem&#39;] = &quot;16MB&quot;
# postgresql[&#39;effective_cache_size&#39;] = &quot;1MB&quot;
# postgresql[&#39;checkpoint_segments&#39;] = 10
# postgresql[&#39;checkpoint_timeout&#39;] = &quot;5min&quot;
# postgresql[&#39;checkpoint_completion_target&#39;] = 0.9
# postgresql[&#39;checkpoint_warning&#39;] = &quot;30s&quot;
# postgresql[&#39;wal_buffers&#39;] = &quot;-1&quot;
# postgresql[&#39;autovacuum&#39;] = &quot;on&quot;
# postgresql[&#39;log_autovacuum_min_duration&#39;] = &quot;-1&quot;
# postgresql[&#39;autovacuum_max_workers&#39;] = &quot;3&quot;
# postgresql[&#39;autovacuum_naptime&#39;] = &quot;1min&quot;
# postgresql[&#39;autovacuum_vacuum_threshold&#39;] = &quot;50&quot;
# postgresql[&#39;autovacuum_analyze_threshold&#39;] = &quot;50&quot;
# postgresql[&#39;autovacuum_vacuum_scale_factor&#39;] = &quot;0.02&quot;
# postgresql[&#39;autovacuum_analyze_scale_factor&#39;] = &quot;0.01&quot;
# postgresql[&#39;autovacuum_freeze_max_age&#39;] = &quot;200000000&quot;
# postgresql[&#39;autovacuum_vacuum_cost_delay&#39;] = &quot;20ms&quot;
# postgresql[&#39;autovacuum_vacuum_cost_limit&#39;] = &quot;-1&quot;
# postgresql[&#39;statement_timeout&#39;] = &quot;0&quot;
# postgresql[&#39;log_line_prefix&#39;] = &quot;%a&quot;
# postgresql[&#39;track_activity_query_size&#39;] = &quot;1024&quot;
# postgresql[&#39;shared_preload_libraries&#39;] = nil

## Replication settings
# postgresql[&#39;sql_replication_user&#39;] = &quot;gitlab_replicator&quot;
# postgresql[&#39;wal_level&#39;] = &quot;hot_standby&quot;
# postgresql[&#39;max_wal_senders&#39;] = 5
# postgresql[&#39;wal_keep_segments&#39;] = 10
# postgresql[&#39;hot_standby&#39;] = &quot;off&quot;

################
# GitLab Redis #
################
## Can be disabled if you are using your own redis instance.

# redis[&#39;enable&#39;] = true
# redis[&#39;username&#39;] = &quot;gitlab-redis&quot;
# redis[&#39;maxclients&#39;] = &quot;10000&quot;
# redis[&#39;tcp_timeout&#39;] = &quot;60&quot;
# redis[&#39;tcp_keepalive&#39;] = &quot;300&quot;
# redis[&#39;uid&#39;] = nil
# redis[&#39;gid&#39;] = nil

## Redis Sentinel support
## You need a master slave redis replication to be able to do failover
## Please read the documentation before enabling it to understand the
## caveats: https://docs.gitlab.com/ce/administration/high_availability/redis.html

## Redis TCP support (will disable UNIX socket transport)
# redis[&#39;bind&#39;] = &#39;0.0.0.0&#39; # or specify an IP to bind to a single one
# redis[&#39;port&#39;] = 6379

## Master redis instance (if this will act as a master instance uncomment and fill below)
# redis[&#39;password&#39;] = &#39;&lt;huge password string here&gt;&#39; # Only define this in the master instance

## Slave redis instance (if this will act as a slave / standby redis instance uncomment and fill below)
# redis[&#39;master_ip&#39;] = nil
# redis[&#39;master_port&#39;] = nil
# redis[&#39;master_password&#39;] = nil


#####################
# GitLab Web server #
#####################
## see: https://gitlab.com/gitlab-org/omnibus-gitlab/tree/master/doc/settings/nginx.md#using-a-non-bundled-web-server
## When bundled nginx is disabled we need to add the external webserver user to the GitLab webserver group.

# web_server[&#39;external_users&#39;] = []
# web_server[&#39;username&#39;] = &#39;gitlab-www&#39;
# web_server[&#39;group&#39;] = &#39;gitlab-www&#39;
# web_server[&#39;uid&#39;] = nil
# web_server[&#39;gid&#39;] = nil
# web_server[&#39;shell&#39;] = &#39;/bin/false&#39;
# web_server[&#39;home&#39;] = &#39;/var/opt/gitlab/nginx&#39;


################
# GitLab Nginx #
################
## see: https://gitlab.com/gitlab-org/omnibus-gitlab/tree/master/doc/settings/nginx.md

# nginx[&#39;enable&#39;] = true
# nginx[&#39;client_max_body_size&#39;] = &#39;250m&#39;
# nginx[&#39;redirect_http_to_https&#39;] = false
# nginx[&#39;redirect_http_to_https_port&#39;] = 80
# nginx[&#39;ssl_client_certificate&#39;] = &quot;/etc/gitlab/ssl/ca.crt&quot; # Most root CA&#39;s are included by default
# nginx[&#39;ssl_verify_client&#39;] = &quot;off&quot; # enable/disable 2-way SSL client authentication
# nginx[&#39;ssl_verify_depth&#39;] = &quot;1&quot; # if ssl_verify_client on, verification depth in the client certificates chain
# nginx[&#39;ssl_certificate&#39;] = &quot;/etc/gitlab/ssl/#{node[&#39;fqdn&#39;]}.crt&quot;
# nginx[&#39;ssl_certificate_key&#39;] = &quot;/etc/gitlab/ssl/#{node[&#39;fqdn&#39;]}.key&quot;
# nginx[&#39;ssl_ciphers&#39;] = &quot;ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256&quot;
# nginx[&#39;ssl_prefer_server_ciphers&#39;] = &quot;on&quot;
# nginx[&#39;ssl_protocols&#39;] = &quot;TLSv1 TLSv1.1 TLSv1.2&quot; # recommended by https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html &amp; https://cipherli.st/
# nginx[&#39;ssl_session_cache&#39;] = &quot;builtin:1000  shared:SSL:10m&quot; # recommended in http://nginx.org/en/docs/http/ngx_http_ssl_module.html
# nginx[&#39;ssl_session_timeout&#39;] = &quot;5m&quot; # default according to http://nginx.org/en/docs/http/ngx_http_ssl_module.html
# nginx[&#39;ssl_dhparam&#39;] = nil # Path to dhparams.pem, eg. /etc/gitlab/ssl/dhparams.pem
# nginx[&#39;listen_addresses&#39;] = [&#39;*&#39;]
# nginx[&#39;listen_port&#39;] = nil # override only if you use a reverse proxy: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#setting-the-nginx-listen-port
# nginx[&#39;listen_https&#39;] = nil # override only if your reverse proxy internally communicates over HTTP: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#supporting-proxied-ssl
# nginx[&#39;custom_gitlab_server_config&#39;] = &quot;location ^~ /foo-namespace/bar-project/raw/ {\n deny all;\n}\n&quot;
# nginx[&#39;custom_nginx_config&#39;] = &quot;include /etc/nginx/conf.d/example.conf;&quot;
# nginx[&#39;proxy_read_timeout&#39;] = 3600
# nginx[&#39;proxy_connect_timeout&#39;] = 300
# nginx[&#39;proxy_set_headers&#39;] = {
#  &quot;Host&quot; =&gt; &quot;$http_host&quot;,
#  &quot;X-Real-IP&quot; =&gt; &quot;$remote_addr&quot;,
#  &quot;X-Forwarded-For&quot; =&gt; &quot;$proxy_add_x_forwarded_for&quot;,
#  &quot;X-Forwarded-Proto&quot; =&gt; &quot;https&quot;,
#  &quot;X-Forwarded-Ssl&quot; =&gt; &quot;on&quot;
# }
# nginx[&#39;proxy_cache_path&#39;] = &#39;proxy_cache keys_zone=gitlab:10m max_size=1g levels=1:2&#39;
# nginx[&#39;proxy_cache&#39;] = &#39;gitlab&#39;
# nginx[&#39;http2_enabled&#39;] = true
# nginx[&#39;real_ip_trusted_addresses&#39;] = []
# nginx[&#39;real_ip_header&#39;] = nil
# nginx[&#39;real_ip_recursive&#39;] = nil

## Advanced settings
# nginx[&#39;dir&#39;] = &quot;/var/opt/gitlab/nginx&quot;
# nginx[&#39;log_directory&#39;] = &quot;/var/log/gitlab/nginx&quot;
# nginx[&#39;worker_processes&#39;] = 4
# nginx[&#39;worker_connections&#39;] = 10240
# nginx[&#39;log_format&#39;] = &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; $status $body_bytes_sent &quot;$http_referer&quot; &quot;$http_user_agent&quot;&#39;
# nginx[&#39;sendfile&#39;] = &#39;on&#39;
# nginx[&#39;tcp_nopush&#39;] = &#39;on&#39;
# nginx[&#39;tcp_nodelay&#39;] = &#39;on&#39;
# nginx[&#39;gzip&#39;] = &quot;on&quot;
# nginx[&#39;gzip_http_version&#39;] = &quot;1.0&quot;
# nginx[&#39;gzip_comp_level&#39;] = &quot;2&quot;
# nginx[&#39;gzip_proxied&#39;] = &quot;any&quot;
# nginx[&#39;gzip_types&#39;] = [ &quot;text/plain&quot;, &quot;text/css&quot;, &quot;application/x-javascript&quot;, &quot;text/xml&quot;, &quot;application/xml&quot;, &quot;application/xml+rss&quot;, &quot;text/javascript&quot;, &quot;application/json&quot; ]
# nginx[&#39;keepalive_timeout&#39;] = 65
# nginx[&#39;cache_max_size&#39;] = &#39;5000m&#39;
# nginx[&#39;server_names_hash_bucket_size&#39;] = 64

## Nginx status
# nginx[&#39;status&#39;][&#39;enable&#39;] = true
# nginx[&#39;status&#39;][&#39;listen_addresses&#39;] = [&#39;*&#39;]
# nginx[&#39;status&#39;][&#39;fqdn&#39;] = node[&#39;fqdn&#39;]
# nginx[&#39;status&#39;][&#39;port&#39;] = 8060
# nginx[&#39;status&#39;][&#39;options&#39;] = { # nginx_status location block options
#   &quot;stub_status&quot; =&gt; &quot;on&quot;, # Turn on stats
#   &quot;access_log&quot; =&gt; &quot;off&quot;, # Disable logs for stats
#   &quot;allow&quot; =&gt; &quot;127.0.0.1&quot;, # Only allow access from localhost
#   &quot;deny&quot; =&gt; &quot;all&quot;, # Deny access to anyone else
# }

##################
# GitLab Logging #
##################
## see: https://gitlab.com/gitlab-org/omnibus-gitlab/tree/master/README.md#logs

# logging[&#39;svlogd_size&#39;] = 200 * 1024 * 1024 # rotate after 200 MB of log data
# logging[&#39;svlogd_num&#39;] = 30 # keep 30 rotated log files
# logging[&#39;svlogd_timeout&#39;] = 24 * 60 * 60 # rotate after 24 hours
# logging[&#39;svlogd_filter&#39;] = &quot;gzip&quot; # compress logs with gzip
# logging[&#39;svlogd_udp&#39;] = nil # transmit log messages via UDP
# logging[&#39;svlogd_prefix&#39;] = nil # custom prefix for log messages
# logging[&#39;logrotate_frequency&#39;] = &quot;daily&quot; # rotate logs daily
# logging[&#39;logrotate_size&#39;] = nil # do not rotate by size by default
# logging[&#39;logrotate_rotate&#39;] = 30 # keep 30 rotated logs
# logging[&#39;logrotate_compress&#39;] = &quot;compress&quot; # see &#39;man logrotate&#39;
# logging[&#39;logrotate_method&#39;] = &quot;copytruncate&quot; # see &#39;man logrotate&#39;
# logging[&#39;logrotate_postrotate&#39;] = nil # no postrotate command by default
# logging[&#39;logrotate_dateformat&#39;] = nil # use date extensions for rotated files rather than numbers e.g. a value of &quot;-%Y-%m-%d&quot; would give rotated files like production.log-2016-03-09.gz
# Enterprise Edition only
# logging[&#39;udp_log_shipping_host&#39;] = nil # remote host to ship log messages to via UDP
# logging[&#39;udp_log_shipping_port&#39;] = 514 # remote host to ship log messages to via UDP

#############
# Logrotate #
#############
## see: https://gitlab.com/gitlab-org/omnibus-gitlab/tree/master/README.md#logrotate
## You can disable built in logrotate feature.

# logrotate[&#39;enable&#39;] = true

#############################
# Users and groups accounts #
#############################
## Disable management of users and groups accounts.
## Set only if creating accounts manually
## See: http://doc.gitlab.com/omnibus/settings/configuration.html#disable-user-and-group-account-management
# manage_accounts[&#39;enable&#39;] = false

#######################
# Storage directories #
#######################
## Disable managing storage directories
## Set only if the select directories are created manually
## See: http://doc.gitlab.com/omnibus/settings/configuration.html#disable-storage-directories-management
# manage_storage_directories[&#39;enable&#39;] = false
# manage_storage_directories[&#39;manage_etc&#39;] = false

#######
# Git #
#######
## Advanced setting for configuring git system settings for omnibus-gitlab internal git
## For multiple options under one header use array of comma separated values, eg.
## { &quot;receive&quot; =&gt; [&quot;fsckObjects = true&quot;], &quot;alias&quot; =&gt; [&quot;st = status&quot;, &quot;co = checkout&quot;] }

# omnibus_gitconfig[&#39;system&#39;] = { &quot;receive&quot; =&gt; [&quot;fsckObjects = true&quot;] }

#############
# GitLab CI #
#############
## see https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/gitlab-ci/README.md

# gitlab_ci[&#39;gitlab_ci_all_broken_builds&#39;] = true
# gitlab_ci[&#39;gitlab_ci_add_pusher&#39;] = true
# gitlab_ci[&#39;builds_directory&#39;] = &#39;/var/opt/gitlab/gitlab-ci/builds&#39;

# DEPRECATED
# ci_external_url &#39;http://ci.example.com&#39;
#

#####################
# GitLab Mattermost #
#####################

# mattermost_external_url &#39;http://mattermost.example.com&#39;
#
# mattermost[&#39;enable&#39;] = false
# mattermost[&#39;username&#39;] = &#39;mattermost&#39;
# mattermost[&#39;group&#39;] = &#39;mattermost&#39;
# mattermost[&#39;uid&#39;] = nil
# mattermost[&#39;gid&#39;] = nil
# mattermost[&#39;home&#39;] = &#39;/var/opt/gitlab/mattermost&#39;
# mattermost[&#39;database_name&#39;] = &#39;mattermost_production&#39;

# mattermost[&#39;service_use_ssl&#39;] = false
# mattermost[&#39;service_address&#39;] = &quot;127.0.0.1&quot;
# mattermost[&#39;service_port&#39;] = &quot;8065&quot;

# mattermost[&#39;service_site_url&#39;] = nil
# mattermost[&#39;service_maximum_login_attempts&#39;] = 10
# mattermost[&#39;service_segment_developer_key&#39;] = nil
# mattermost[&#39;service_google_developer_key&#39;] = nil
# mattermost[&#39;service_enable_incoming_webhooks&#39;] = true
# mattermost[&#39;service_enable_post_username_override&#39;] = false
# mattermost[&#39;service_enable_post_icon_override&#39;] = false
# mattermost[&#39;service_enable_testing&#39;] = false
# mattermost[&#39;service_enable_security_fix_alert&#39;] = true
# mattermost[&#39;service_enable_insecure_outgoing_connections&#39;] = false
# mattermost[&#39;service_allow_cors_from&#39;] = &quot;&quot;
# mattermost[&#39;service_enable_outgoing_webhooks&#39;] = true
# mattermost[&#39;service_enable_commands&#39;] = false
# mattermost[&#39;service_enable_only_admin_integrations&#39;] = true
# mattermost[&#39;service_enable_oauth_service_provider&#39;] = false
# mattermost[&#39;service_enable_developer&#39;] = false
# mattermost[&#39;service_session_length_web_in_days&#39;] = 30
# mattermost[&#39;service_session_length_mobile_in_days&#39;] = 30
# mattermost[&#39;service_session_length_sso_in_days&#39;] = 30
# mattermost[&#39;service_session_cache_in_minutes&#39;] = 10

# mattermost[&#39;team_site_name&#39;] = &quot;GitLab Mattermost&quot;
# mattermost[&#39;team_max_users_per_team&#39;] = 150
# mattermost[&#39;team_enable_team_creation&#39;] = true
# mattermost[&#39;team_enable_user_creation&#39;] = true
# mattermost[&#39;team_enable_open_server&#39;] = false
# mattermost[&#39;team_allow_public_link&#39;] = true
# mattermost[&#39;team_allow_valet_default&#39;] = false
# mattermost[&#39;team_restrict_creation_to_domains&#39;] = &quot;gmail.com&quot;
# mattermost[&#39;team_restrict_team_names&#39;] = true
# mattermost[&#39;team_restrict_direct_message&#39;] = &quot;any&quot;


# mattermost[&#39;sql_driver_name&#39;] = &#39;mysql&#39;
# mattermost[&#39;sql_data_source&#39;] = &quot;mmuser:mostest@tcp(dockerhost:3306)/mattermost_test?charset=utf8mb4,utf8&quot;
# mattermost[&#39;sql_data_source_replicas&#39;] = [&quot;mmuser:mostest@tcp(dockerhost:3306)/mattermost_test?charset=utf8mb4,utf8&quot;]
# mattermost[&#39;sql_max_idle_conns&#39;] = 10
# mattermost[&#39;sql_max_open_conns&#39;] = 10
# mattermost[&#39;sql_trace&#39;] = false

# mattermost[&#39;log_file_directory&#39;] = &#39;/var/log/gitlab/mattermost&#39;
# mattermost[&#39;log_console_enable&#39;] = true
# mattermost[&#39;log_console_level&#39;] = &#39;INFO&#39;
# mattermost[&#39;log_enable_file&#39;] = false
# mattermost[&#39;log_file_level&#39;] = &#39;INFO&#39;
# mattermost[&#39;log_file_format&#39;] = nil
# mattermost[&#39;log_enable_diagnostics&#39;] = true

# mattermost[&#39;gitlab_enable&#39;] = false
# mattermost[&#39;gitlab_id&#39;] = &quot;12345656&quot;
# mattermost[&#39;gitlab_secret&#39;] = &quot;123456789&quot;
# mattermost[&#39;gitlab_scope&#39;] = &quot;&quot;
# mattermost[&#39;gitlab_auth_endpoint&#39;] = &quot;http://gitlab.example.com/oauth/authorize&quot;
# mattermost[&#39;gitlab_token_endpoint&#39;] = &quot;http://gitlab.example.com/oauth/token&quot;
# mattermost[&#39;gitlab_user_api_endpoint&#39;] = &quot;http://gitlab.example.com/api/v3/user&quot;

# mattermost[&#39;aws&#39;] = {&#39;S3AccessKeyId&#39; =&gt; &#39;123&#39;, &#39;S3SecretAccessKey&#39; =&gt; &#39;123&#39;, &#39;S3Bucket&#39; =&gt; &#39;aa&#39;, &#39;S3Region&#39; =&gt; &#39;bb&#39;}

# mattermost[&#39;email_enable_sign_up_with_email&#39;] = true
# mattermost[&#39;email_enable_sign_in_with_email&#39;] = true
# mattermost[&#39;email_enable_sign_in_with_username&#39;] = false
# mattermost[&#39;email_send_email_notifications&#39;] = false
# mattermost[&#39;email_require_email_verification&#39;] = false
# mattermost[&#39;email_smtp_username&#39;] = nil
# mattermost[&#39;email_smtp_password&#39;] = nil
# mattermost[&#39;email_smtp_server&#39;] = nil
# mattermost[&#39;email_smtp_port&#39;] = nil
# mattermost[&#39;email_connection_security&#39;] = nil
# mattermost[&#39;email_feedback_name&#39;] = nil
# mattermost[&#39;email_feedback_email&#39;] = nil
# mattermost[&#39;email_feedback_organization&#39;] = nil
# mattermost[&#39;email_send_push_notifications&#39;] = true
# mattermost[&#39;email_push_notification_server&#39;] = &quot;&quot;
# mattermost[&#39;email_push_notification_contents&#39;] = &quot;generic&quot;
# mattermost[&#39;email_enable_batching&#39;] = false
# mattermost[&#39;email_batching_buffer_size&#39;] = 256
# mattermost[&#39;email_batching_interval&#39;] = 30

# mattermost[&#39;file_max_file_size&#39;] = 52428800
# mattermost[&#39;file_driver_name&#39;] = &quot;local&quot;
# mattermost[&#39;file_directory&#39;] = &quot;/var/opt/gitlab/mattermost/data&quot;
# mattermost[&#39;file_enable_public_link&#39;] = true
# mattermost[&#39;file_thumbnail_width&#39;] = 120
# mattermost[&#39;file_thumbnail_height&#39;] = 100
# mattermost[&#39;file_preview_width&#39;] = 1024
# mattermost[&#39;file_preview_height&#39;] = 0
# mattermost[&#39;file_profile_width&#39;] = 128
# mattermost[&#39;file_profile_height&#39;] = 128
# mattermost[&#39;file_initial_font&#39;] = &#39;luximbi.ttf&#39;
# mattermost[&#39;file_amazon_s3_access_key_id&#39;] = nil
# mattermost[&#39;file_amazon_s3_bucket&#39;] = nil
# mattermost[&#39;file_amazon_s3_secret_access_key&#39;] = nil
# mattermost[&#39;file_amazon_s3_bucket&#39;] = nil
# mattermost[&quot;file_amazon_s3_endpoint&quot;] = nil
# mattermost[&quot;file_amazon_s3_bucket_endpoint&quot;] = nil
# mattermost[&quot;file_amazon_s3_location_constraint&quot;] = false
# mattermost[&quot;file_amazon_s3_lowercase_bucket&quot;] = false

# mattermost[&#39;ratelimit_enable_rate_limiter&#39;] = true
# mattermost[&#39;ratelimit_per_sec&#39;] = 10
# mattermost[&#39;ratelimit_memory_store_size&#39;] = 10000
# mattermost[&#39;ratelimit_vary_by_remote_addr&#39;] = true
# mattermost[&#39;ratelimit_vary_by_header&#39;] = nil

# mattermost[&#39;support_terms_of_service_link&#39;] = &quot;/static/help/terms.html&quot;
# mattermost[&#39;support_privacy_policy_link&#39;] = &quot;/static/help/privacy.html&quot;
# mattermost[&#39;support_about_link&#39;] = &quot;/static/help/about.html&quot;
# mattermost[&#39;support_report_a_problem_link&#39;] =  &quot;/static/help/report_problem.html&quot;
# mattermost[&#39;support_email&#39;] =  &quot;support@example.com&quot;

# mattermost[&#39;privacy_show_email_address&#39;] = true
# mattermost[&#39;privacy_show_full_name&#39;] = true

# mattermost[&#39;localization_server_locale&#39;] = &quot;en&quot;
# mattermost[&#39;localization_client_locale&#39;] = &quot;en&quot;
# mattermost[&#39;localization_available_locales&#39;] = &quot;en,es,fr,ja,pt-BR&quot;

####################
# Mattermost NGINX #
####################

# mattermost_nginx[&#39;enable&#39;] = false
# mattermost_nginx[&#39;client_max_body_size&#39;] = &#39;250m&#39;
# mattermost_nginx[&#39;redirect_http_to_https&#39;] = false
# mattermost_nginx[&#39;redirect_http_to_https_port&#39;] = 80
# mattermost_nginx[&#39;ssl_certificate&#39;] = &quot;/etc/gitlab/ssl/#{node[&#39;fqdn&#39;]}.crt&quot;
# mattermost_nginx[&#39;ssl_certificate_key&#39;] = &quot;/etc/gitlab/ssl/#{node[&#39;fqdn&#39;]}.key&quot;
# mattermost_nginx[&#39;ssl_ciphers&#39;] = &quot;ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256&quot;
# mattermost_nginx[&#39;ssl_prefer_server_ciphers&#39;] = &quot;on&quot;
# mattermost_nginx[&#39;ssl_protocols&#39;] = &quot;TLSv1 TLSv1.1 TLSv1.2&quot; # recommended by https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html &amp; https://cipherli.st/
# mattermost_nginx[&#39;ssl_session_cache&#39;] = &quot;builtin:1000  shared:SSL:10m&quot; # recommended in http://nginx.org/en/docs/http/ngx_http_ssl_module.html
# mattermost_nginx[&#39;ssl_session_timeout&#39;] = &quot;5m&quot; # default according to http://nginx.org/en/docs/http/ngx_http_ssl_module.html
# mattermost_nginx[&#39;ssl_dhparam&#39;] = nil # Path to ci_dhparams.pem, eg. /etc/gitlab/ssl/ci_dhparams.pem
# mattermost_nginx[&#39;listen_addresses&#39;] = [&#39;*&#39;]
# mattermost_nginx[&#39;listen_port&#39;] = nil # override only if you use a reverse proxy: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#setting-the-nginx-listen-port
# mattermost_nginx[&#39;listen_https&#39;] = nil # override only if your reverse proxy internally communicates over HTTP: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#supporting-proxied-ssl
# mattermost_nginx[&#39;custom_gitlab_mattermost_server_config&#39;] = &quot;location ^~ /foo-namespace/bar-project/raw/ {\n deny all;\n}\n&quot;
# mattermost_nginx[&#39;proxy_set_headers&#39;] = {
#   &quot;Host&quot; =&gt; &quot;$http_host&quot;,
#   &quot;X-Real-IP&quot; =&gt; &quot;$remote_addr&quot;,
#   &quot;X-Forwarded-For&quot; =&gt; &quot;$proxy_add_x_forwarded_for&quot;,
#   &quot;X-Frame-Options&quot; =&gt; &quot;SAMEORIGIN&quot;,
#   &quot;X-Forwarded-Proto&quot; =&gt; &quot;https&quot;,
#   &quot;X-Forwarded-Ssl&quot; =&gt; &quot;on&quot;
# }
# mattermost_nginx[&#39;real_ip_trusted_addresses&#39;] = []
# mattermost_nginx[&#39;real_ip_header&#39;] = nil
# mattermost_nginx[&#39;real_ip_recursive&#39;] = nil

## Advanced settings
# mattermost_nginx[&#39;dir&#39;] = &quot;/var/opt/gitlab/nginx&quot;
# mattermost_nginx[&#39;log_directory&#39;] = &quot;/var/log/gitlab/nginx&quot;
# mattermost_nginx[&#39;worker_processes&#39;] = 4
# mattermost_nginx[&#39;worker_connections&#39;] = 10240
# mattermost_nginx[&#39;sendfile&#39;] = &#39;on&#39;
# mattermost_nginx[&#39;tcp_nopush&#39;] = &#39;on&#39;
# mattermost_nginx[&#39;tcp_nodelay&#39;] = &#39;on&#39;
# mattermost_nginx[&#39;gzip&#39;] = &quot;on&quot;
# mattermost_nginx[&#39;gzip_http_version&#39;] = &quot;1.0&quot;
# mattermost_nginx[&#39;gzip_comp_level&#39;] = &quot;2&quot;
# mattermost_nginx[&#39;gzip_proxied&#39;] = &quot;any&quot;
# mattermost_nginx[&#39;gzip_types&#39;] = [ &quot;text/plain&quot;, &quot;text/css&quot;, &quot;application/x-javascript&quot;, &quot;text/xml&quot;, &quot;application/xml&quot;, &quot;application/xml+rss&quot;, &quot;text/javascript&quot;, &quot;application/json&quot; ]
# mattermost_nginx[&#39;keepalive_timeout&#39;] = 65
# mattermost_nginx[&#39;cache_max_size&#39;] = &#39;5000m&#39;

################
# GitLab Pages #
################

## Define to enable GitLab Pages
# pages_external_url &quot;http://pages.example.com/&quot;

# gitlab_pages[&#39;enable&#39;] = false
# gitlab_pages[&#39;external_http&#39;] = nil # Configure to expose GitLab Pages on external IP address, serving the HTTP
# gitlab_pages[&#39;external_https&#39;] = nil # Configure to expose GitLab Pages on external IP address, serving the HTTPS
# gitlab_pages[&#39;listen_proxy&#39;] = &quot;localhost:8090&quot;
# gitlab_pages[&#39;redirect_http&#39;] = true
# gitlab_pages[&#39;use_http2&#39;] = true
# gitlab_pages[&#39;dir&#39;] = &quot;/var/opt/gitlab/gitlab-pages&quot;
# gitlab_pages[&#39;log_directory&#39;] = &quot;/var/log/gitlab/gitlab-pages&quot;

######################
# GitLab Pages NGINX #
######################

# pages_nginx[&#39;enable&#39;] = false
# pages_nginx[&#39;redirect_http_to_https&#39;] = false
# pages_nginx[&#39;redirect_http_to_https_port&#39;] = 80
# pages_nginx[&#39;ssl_certificate&#39;] = &quot;/etc/gitlab/ssl/#{node[&#39;fqdn&#39;]}.crt&quot;
# pages_nginx[&#39;ssl_certificate_key&#39;] = &quot;/etc/gitlab/ssl/#{node[&#39;fqdn&#39;]}.key&quot;
# pages_nginx[&#39;ssl_ciphers&#39;] = &quot;ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256&quot;
# pages_nginx[&#39;ssl_prefer_server_ciphers&#39;] = &quot;on&quot;
# pages_nginx[&#39;ssl_protocols&#39;] = &quot;TLSv1 TLSv1.1 TLSv1.2&quot; # recommended by https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html &amp; https://cipherli.st/
# pages_nginx[&#39;ssl_session_cache&#39;] = &quot;builtin:1000  shared:SSL:10m&quot; # recommended in http://nginx.org/en/docs/http/ngx_http_ssl_module.html
# pages_nginx[&#39;ssl_session_timeout&#39;] = &quot;5m&quot; # default according to http://nginx.org/en/docs/http/ngx_http_ssl_module.html
# pages_nginx[&#39;ssl_dhparam&#39;] = nil # Path to ci_dhparams.pem, eg. /etc/gitlab/ssl/ci_dhparams.pem
# pages_nginx[&#39;listen_addresses&#39;] = [&#39;*&#39;]
# pages_nginx[&#39;listen_port&#39;] = nil # override only if you use a reverse proxy: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#setting-the-nginx-listen-port
# pages_nginx[&#39;listen_https&#39;] = nil # override only if your reverse proxy internally communicates over HTTP: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#supporting-proxied-ssl
# pages_nginx[&#39;custom_gitlab_server_config&#39;] = &quot;location ^~ /foo-namespace/bar-project/raw/ {\n deny all;\n}\n&quot;

## Advanced settings
# pages_nginx[&#39;dir&#39;] = &quot;/var/opt/gitlab/nginx&quot;
# pages_nginx[&#39;log_directory&#39;] = &quot;/var/log/gitlab/nginx&quot;

##################
# Registry NGINX #
##################

# registry_nginx[&#39;ssl_certificate&#39;] = &quot;/etc/gitlab/ssl/certificate.pem&quot;
# registry_nginx[&#39;ssl_certificate_key&#39;] = &quot;/etc/gitlab/ssl/certificate.key&quot;
# registry_nginx[&#39;listen_port&#39;] = nil # override only if you use a reverse proxy: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#setting-the-nginx-listen-port
# registry_nginx[&#39;listen_https&#39;] = nil # override only if your reverse proxy internally communicates over HTTP: https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#supporting-proxied-ssl
# registry_nginx[&#39;proxy_set_headers&#39;] = {
#  &quot;Host&quot; =&gt; &quot;$http_host&quot;,
#  &quot;X-Real-IP&quot; =&gt; &quot;$remote_addr&quot;,
#  &quot;X-Forwarded-For&quot; =&gt; &quot;$proxy_add_x_forwarded_for&quot;,
#  &quot;X-Forwarded-Proto&quot; =&gt; &quot;https&quot;,
#  &quot;X-Forwarded-Ssl&quot; =&gt; &quot;on&quot;
# }</pre></noscript>
<script src="https://gist.github.com/MertcanGokgoz/cde01bd73b523a5b575503bf12ff983a.js"> </script>

<p>Gitlab size oldukça fazla özelleştirme imkanı sunuyor. Bunları detaylı bir şekilde bu makale içerisinde anlatmak isterdim ancak gereğinden uzun olacağından dolayı her bir ayar için ayrı bir makale düzenlemeyi düşündüm.</p>

<p><strong>dipnot</strong>: Bu kurulum sadece normal <strong>http</strong> üzerinden çalışabilecek şekilde ayarları değiştirilmeden basit şekilde nasıl yapılabileceğini göstermek için yapılmıştır. <strong>Gitlab</strong> kurulumu omnibus paket kullanılarak gerçekleştirilmiştir. Daha detaylı kurulum ve isteğe göre konfigürasyonları yapmak için kaynaktan kurulum yapılması gerekmektedir.</p>

</div>

<hr style="margin:20px;">
<p><small class="edit">Bir şeyler bu yazıda doğru ya da eksik değil mi? <a href="https://github.com/MertcanGokgoz/mertcangokgoz.github.io/edit/jekyll/_posts/2016-10-15-debian-sistemler-icin-gitlab-kurulumu.md" target="_blank">Düzenleyin ve pull request Oluşturun</a></small></p>


<div id="paylasim">
<h3>Bu yazıyı paylaş:</h3>
<a href="https://www.facebook.com/sharer/sharer.php?u=https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-facebook-square fa share-button"> Facebook</i>
</a>
<a href="https://twitter.com/intent/tweet?text=Debian Üzerine GitLab Kurulumu( Omnibus Yöntemi)&url=https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/&via=mertcangokgoz&related=mertcangokgoz" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;">
    <i class="fa fa-twitter-square fa share-button"> Twitter</i>
</a>
<a href="https://plus.google.com/share?url=https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-google-plus-square fa share-button"> Google</i>
</a>
<a href="http://www.reddit.com/submit?url=https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/&title=Debian Üzerine GitLab Kurulumu( Omnibus Yöntemi)" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-reddit-square fa share-button"> Reddit</i>
</a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/&title=Debian Üzerine GitLab Kurulumu( Omnibus Yöntemi)&summary=&source=webjeda" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-linkedin-square fa share-button"> Linkedin</i>
</a>
<a href="mailto:?subject=Debian Üzerine GitLab Kurulumu( Omnibus Yöntemi)&amp;body=Check out this site https://mertcangokgoz.com/debian-sistemler-icin-gitlab-kurulumu/">
    <i class="fa fa-envelope-square fa share-button"> Email</i>
</a>
</div>


<div class="ajaxloadcomment"><button class="show-comments">Yorumları yükle</button></div>
<div itemprop="comment" id="disqus_thread"></div>
<script>
$(document).ready(function() {
    $('.show-comments').on('click', function(){
          var disqus_shortname = 'mertcanofficial';

          $.ajax({
                  type: "GET",
                  url: "//" + disqus_shortname + ".disqus.com/embed.js",
                  dataType: "script",
                  cache: true
          });
          $(this).fadeOut();
    });
});
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



      <div class="footer">
        <div class="disclaimer">
  
  <p>
    Bu sitedeki gönderiler bana aittir ve iş verenime ait pozisyonlar,
    stratejiler veya görüşler temsil edilmemektedir.<br>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Atıf-Paylaşım Lisansı</a> altındadır.<br>
        <a href="/ders-notlari/">Ders Notları</a>
        <span> | </span><a href="/gizlilik-politikasi/">Gizlilik Politikası</a>
        <span> | </span><a href="/kullanim-kosullari/">Kullanım Koşulları</a>
        <span> | </span><a href="/hakkimda/">Hakkımda</a>
        <span> | </span><a href="/iletisim/">İletişim</a><br>
        <b>BTC:</b> 36DFx4anTdsx3AnBiA1oqR3oHkMV3RJME1<br>
        <a href="/hosted/">Hosted By </a> © Mertcan GÖKGÖZ, 2017 - Linux Hacısı
  </p>
  
</div>

      </div>
    </div>
  </div>
  <div id="up">
    <a href="javascript:"><i class="fa fa-arrow-up fa-2x"></i></a>
  </div>







</body>
</html>
