<!doctype html>
<html class="no-js" lang="tr-TR">
<head>
  <meta charset="UTF-8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Ülkemizde URL Tabanlı Engelleme Nasıl Yapılıyor ? | Mertcan GÖKGÖZ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Jekyll">
  <link href="https://plus.google.com/103305118431759296457" rel="publisher" />
  <!-- Begin Jekyll SEO tag v2.1.0 -->
<meta property="og:title" content="Ülkemizde URL Tabanlı Engelleme Nasıl Yapılıyor ?" />
<meta name="description" content="Bloğumda düşüncelerimi bilgi birikimimi yayınlamayı planlarken bunu akademik bir url ile yapmayı planlıyordum.Ancak internetde gördüm ki biraz" />
<meta property="og:description" content="Bloğumda düşüncelerimi bilgi birikimimi yayınlamayı planlarken bunu akademik bir url ile yapmayı planlıyordum.Ancak internetde gördüm ki biraz" />
<link rel="canonical" href="https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/" />
<meta property="og:url" content="https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/" />
<meta property="og:site_name" content="Mertcan GÖKGÖZ - Özgür Yazılım, Sunucu Yönetimi ve Hizmetleri" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-05-28T01:23:27+03:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@mertcangokgoz" />
<meta name="twitter:creator" content="@http://twitter.com/mertcangokgoz" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Ülkemizde URL Tabanlı Engelleme Nasıl Yapılıyor ?",
"datePublished": "2014-05-28T01:23:27+03:00",
"description": "Bloğumda düşüncelerimi bilgi birikimimi yayınlamayı planlarken bunu akademik bir url ile yapmayı planlıyordum.Ancak internetde gördüm ki biraz",
"url": "https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/"}</script>
<!-- End Jekyll SEO tag -->

  
  <meta name="author" content="Mertcan GÖKGÖZ" />
  <meta name="distribution" content="global"/>
  <meta name="robots" content="follow, all"/>
  <meta name="google-site-verification" content="72uYg4UxAer0YwWdtkU93OGqjNq7ZThpqe0M4KxyvIg"/>
  <meta name='yandex-verification' content='410f2e33fe81ce80'/>
  <meta name="msvalidate.01" content="2183CAED5258723C183F825A20DF9C4A"/>
  <link rel="alternate" type="application/rss+xml" title="Mertcan GÖKGÖZ" href="https://mertcangokgoz.com/feed" />
  <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/all.css">
  <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css">
  <script type="text/javascript" src="/assets/js/jquery-1.12.4.min.js"></script>
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png">
</head>
<body>
<div class="container">
    <div class="three columns sidebar">
      <nav class="nav">
  <a href="/">
    <img src="/YeniResimBro.jpg" id="gravatar" alt="Mertcan GÖKGÖZ" width="200" height="200"/>
  </a>
  <h3><a href="/">Mertcan GÖKGÖZ</a></h3>
  <div id="bio">
    <p>
        Kategoriler:<br>

        <a href="/category/linux">Linux</a> &raquo; 237 Yazı<br><a href="/category/programlama">Programlama</a> &raquo; 79 Yazı<br><a href="/category/genel">Genel</a> &raquo; 69 Yazı<br><a href="/category/guvenlik">Guvenlik</a> &raquo; 54 Yazı<br><a href="/category/windows">Windows</a> &raquo; 36 Yazı<br><a href="/category/analiz">Analiz</a> &raquo; 21 Yazı<br><a href="/category/jekyll">Jekyll</a> &raquo; 16 Yazı<br><a href="/category/nginx">Nginx</a> &raquo; 15 Yazı<br><a href="/category/egitimler">Egitimler</a> &raquo; 6 Yazı<br>
        <br>
        Arkadaşlar:<br>
        <a href="https://oztaser.com/" target="_blank" rel="nofollow">Adil ÖZTAŞER</a><br>
        <a href="https://aligoren.com/" target="_blank" rel="nofollow">Ali GÖREN</a><br>
        <a href="https://www.ceyhanmolla.com/" target="_blank" rel="nofollow">Ceyhan MOLLA</a><br>
        <a href="https://0x6.pw/" target="_blank" rel="nofollow">Enes ERGÜN</a><br>
        <a href="http://furkankalkan.com/" target="_blank" rel="nofollow">Furkan KALKAN</a><br>
        <a href="http://www.hamdicatal.com/" target="_blank" rel="nofollow">Hamdi ÇATAL</a><br>
        <a href="https://onur.im/" target="_blank" rel="nofollow">Onur ASLAN</a><br>
        <a href="http://www.omeripek.com.tr" target="_blank" rel="nofollow">Ömer IPEK</a><br>
        <a href="https://yapaygerizeka.github.io/" target="_blank" rel="nofollow">Yapay Geri Zekâ</a><br>
    </p>
  </div>
  <div id="social">
    Takip Edin:
<div id="stalker">
   

   
   <a title="MertcanGokgoz on Academia" href="https://baskent.academia.edu/MertcanGokgoz" target="_blank" rel="nofollow">
     <i class="fa fa-book"></i>
   </a>
   

  
  <a title="MertcanGokgoz on Github" href="https://github.com/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-github-square"></i>
  </a>
  

  
  <a title="MertcanGokgoz on Gitlab" href="https://gitlab.com/u/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-gitlab"></i>
  </a>
  

  

  

  

  

  

  
  <a title="mertcangokgoz on Twitter" href="https://twitter.com/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-twitter-square"></i>
  </a>
  

  

  

  
  <a title="Mertcan GÖKGÖZ on LinkedIn" href="https://www.linkedin.com/in/mertcangokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  
  <a title="Mertcan GÖKGÖZ on Google Plus" href="https://plus.google.com/103305118431759296457" target="_blank" rel="nofollow">
    <i class="fa fa-google-plus-square"></i>
  </a>
  

  

  
  <a title="Mertcan GÖKGÖZ on Youtube" href="https://www.youtube.com/c/MertcanGokgoz" target="_blank" rel="nofollow">
    <i class="fa fa-youtube"></i>
  </a>
  

  
  <a title="RSS feed" id="atom" href="/feed/">
    <i class="fa fa-rss-square"></i>
  </a>
  
</div>

  </div>
</nav>

    </div>
    <div class="nine columns content">
        <div class="menuM">
    <ul class="topnav">
        <li><a class="active" href="https://mertcangokgoz.com/">Anasayfa</a></li>
        <li><a href="https://mertcangokgoz.com/category/analiz/">Analiz</a></li>
        <li><a href="https://mertcangokgoz.com/category/genel/">Genel</a></li>
        <li><a href="https://mertcangokgoz.com/category/guvenlik/">Güvenlik</a></li>
        <li><a href="https://mertcangokgoz.com/category/linux/">Linux</a></li>
        <li><a href="https://mertcangokgoz.com/category/windows/">Windows</a></li>
        <li><a href="https://mertcangokgoz.com/category/jekyll/">Jekyll</a></li>
        <li><a href="https://mertcangokgoz.com/category/nginx/">Nginx</a></li>
        <li><a href="https://mertcangokgoz.com/category/egitimler/">Egitimler</a></li>
        <li><a href="https://mertcangokgoz.com/category/programlama/">Programlama</a></li>
        <li class="icon">
            <a href="javascript:void(0);" style="font-size:15px;" onclick="myFunction()"><i class="fa fa-bars"></i></a>
        </li>
    </ul>
</div>

<script>
    function myFunction() {
        document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
    }
</script>


<p class="meta">
  May 28, 2014
  <a href="/">
    <i class="home fa fa-home fa-2x"></i>
  </a>
  <a href="/search/">
    <i class="home fa fa-search fa-2x"></i>
  </a>
  <a href="javascript:" onclick="window.print();return false;">
    <i class="home fa fa-print fa-2x"></i>
  </a>
</p>

<h1 class="title">Ülkemizde URL Tabanlı Engelleme Nasıl Yapılıyor ?</h1>

<div id="post">
  <p>Bloğumda düşüncelerimi bilgi birikimimi yayınlamayı planlarken bunu akademik bir dil ile yapmayı planlıyordum.Ancak internetde gördüm ki biraz daha insanlara içden yaklaşmak gerekiyormuş.Yani up uzun bir makale yazıpda okuyan kişinin sonuna kadar gelmesini tabiki akademik bir dil ile pek fazla mümkün değil zaten görmüş olduğunuz gibi yazılarım genelde orta düzeyde bir anlatıma sahip çoğu yazımdada ruh halimi anlıyorsunuzdur.Öncelikle bu gün deyineceğimiz konu ülkemizde yeni yasa ile yürürlüğe giren  <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator">URL</a> Tabanlı filtreleme olacak diyeceksiniz yahu bu yasa geçeli çok zaman oldu ve çoğu yerde <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator">URL</a> ye girdiğimiz zaman direk 404 Not found yada sayfa yüklenemedi hataları ile karşılaşıyoruz dediğinizi duyar gibiyim yapılan bu filtrelemeyi tabikide DNS ile geçmenizi yada geçebilmenizi beklemiyorum.</p>

<p>Araştırmalarımızı yapmamız için öncelikle bize bir adet linux (önerim kali linux) kurulu sistem gerekiyor.Windows ile gerekli olan analizi tam olarak gerçekleştirmem benim için pek mümkün değildi açıkcası araştırmamı yaparken tabiki bana <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator">URL</a> si yasaklı bir link gerekiyordu hemen youtubeye yöneldim ve Başbakan erdoğanın internete sızdırılan ses kayıtlarından pek çoğunu denedim hangisine girmeyecek acaba diye %98 ini açtım ancak bir tanesinde sayfa yüklenemiyor hatasını gördüm ve aradığım kanı bulduğumu fark ettim.Hemen işe koyulma vakti gelmişti dedim ve kolları sıvadım kahvemi laptobumun yanına aldım.</p>

<ul>
  <li>İlk önce sisteme tcpdump adlı uygulamayı kurmamız gerekiyordu hemen sitesine yöneldim ve işleme başladım.ama kali linux kullandığımı bir an unuttuğum için böyle bir işe giriştiğime lanet ettim çünkü içerisinde zaten kurulu idi</li>
  <li>hemen sonrasında youtubenin DNS kayıtlarına bir göz atmamız gerekiyordu paket analizi yaparken kafamızın karışmaması hangi ip nin hangi yoldan ne amaçla geldiğini birazda olsa gözümüzün alışması gerektiğini düşündüm dig komutunu vererek DNS kayıtlarını izledim.</li>
</ul>

<p><img src="/assets/tcpdumpimage1-e1401206842151-638x576.png" alt="tcpdumpimage1" /></p>

<ul>
  <li>hemen ardından türkiyeye ulaşmadan önce hangi yerlerden gelerek youtubeyi biz evimizde görüntülüyoruz dedim( <a href="http://en.wikipedia.org/wiki/Traceroute">traceroute</a>). Karşımıa bol yıldızlı bir döküm geldi haliyle göremedik</li>
</ul>

<p>2 adet linkimiz hazır halde elimde duruyordu biri yasaklı olan <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator">URL</a> biriside hali hazırda yasaklanmamış olan <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator">URL</a> idi ilk olarak tcdump programını kıvama getirmemiz gerekiyordu tabi ki</p>

<p><strong>Kullanacağımız komut</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>  tcpdump -v -vv
</code></pre>
</div>

<p>komutumuzu verdik karşımıza ip port protokol hakkında bilgiler geldi.</p>

<p><img src="/assets/tcpdumpimage2.png" alt="tcpdumpimage2" />Şimdi bizim aramamız gereken net.http yada net.https olarak youtubenin ip ve portu bunu sayfa yenileyerek anlayacağız tabi emin olmak içinde ip ye bi whois atmak daha iyi olacaktır yanlış ip adresini takip etmek istemeyiz.Şöyle bi izlediğimizde muc03s07-in-f14.1e100.net.https: Flag[P],cksum 0 şeklinde ilerleyen bi paketimiz olacak tabi bu değişken hepsinde aynı olmuyor buradan hareketle analizimize devam ediyoruz.</p>

<p><img src="/assets/tcpdumpimage3.png" alt="tcpdumpimage3" /></p>

<p>şimdi orada görüldüğü üzere bi http üzerinden youtubeye ulaştığımızda paketlerin hatalı olduğunu <a href="http://en.wikipedia.org/wiki/Time_to_live">TTL</a>(yaşam süresi) değerlerinin bir anda düştüğünü görüyoruz.Çoğu zaman bu normal karşılanır sistem hataları networkünüzde oluşabilen problemler vs dedim ancak engellenmiş bir <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator">URL</a> ye ulaşmaya çalıştığımda karşıma şöyle bir ekran geldi</p>

<p><img src="/assets/tcpresetprotocol.png" alt="tcpresetprotocol" /></p>

<p>görür görmez tcpdump tekrar bakmak istedim çünkü youtubenin durduk yere bağlantıyı sıfırlamasının bir anlamı yoktu ancak gelen paketler neredeyse hemen hemen aynıydı sadece bir fark bulunuyordu incorret olarak gelen ve hatalı olarak gelen paket sayısı yüksekti protokol üzerindeki RST paketini hatırladım(tcpdump da yanlış hatırlamışyorsam Flags[R] olacaktı) birden gözüme ilişir diye bakarken kali linux de bu paketlerin firewall tarafından droplandığı konusunda bir yazı gördüm dedim bu böyle olmaz hemen wireshark a geçtim.</p>

<p><img src="/assets/tcpdumpimage4.png" alt="tcpdumpimage4" /></p>

<p>Wireshark geçtiğimde bir süre youtubede gezinip paketlere baktım herşey normaldi sonra yasaklı bulduğum url yi tarayıcıya girdim <strong>“http://”</strong> olan linkin yasaklı olduğu <strong>“https://”</strong> ise yasaklı olmadığını fark ettim.Peki bu ne demek oluyor diye soracaksınız.Siz bu sorunuzu bana yöneltmeden önce paketleri nasıl filtreleyeceğinize bir bakalım komutumuz;</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  tcp.flags.reset==1
</code></pre>
</div>

<p><img src="/assets/wiresharkpacketanlysis1-e1401228955305-1024x554.png" alt="wiresharkpacketanlysis" /></p>

<p>Bu demek oluyor ki <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator">URL</a> ye ulaşmadan önce İSS araya girerek sayfanın <a href="http://en.wikipedia.org/wiki/Time_to_live">TTL</a> (yaşam süresini)değiştiriyor ve RST paketi gönderiyor. Gönderilen bu paketde <strong>“bağlantı sıfırlandı”</strong> hatasını almanıza neden oluyor. Kısacası engellenmiş ve filtrelenmiş oluyor. Buraya kadar herşey normal aslında ama işin garip tarafı Turk Telekomun yada BTK TİB herneyse erişimi sadece http trafiği üzerinden kapatabiliyor olması yani şifreli gelen bağlantıları hala okuyamadıklarını görüyoruz. http üzerinden ise gelen requestlere göre filtreleme yapıyor yüksek ihtimal ile ya bir <a href="http://en.wikipedia.org/wiki/Deep_packet_inspection">DPİ</a> yada kullanılan bir <a href="http://en.wikipedia.org/wiki/Firewall_%28computing%29">firewall</a> bunu başarılı bir şekilde yapıyor ancak bu işlemler yapılmaya başlanalı internetde bir yavaşlık devamlı bir sorun çıkma durumu var.Sanırım TİB görevlileri kullandıkları sistemi tam olarak ölçeklendiremiyorlar.</p>

<p>Şimdi diyeceksiniz bir sonraki adımda ne olur. <strong>“Ortadaki adam”</strong> diye bi saldırı şekli var ingilizce adıyla <strong>“Man in the Middle”</strong> bu olay yapılmaya kalkılırsa bir şekilde mitm saldırısı gerçekleştirilecek sonrasında ise ne http nede https de anonim olarak takılabilirsiniz yada sansürü aşabilirsiniz.(VPN ve diğer tunelleme protokolleri şuan için hariç tabikide)</p>

<p>dipnot: Yukarıdaki bahsi geçen tüm bilgiler yaptığım araştırmalar sonucu yazılmış olup gerçekliği tartışılır.</p>

</div>

<hr style="margin:20px;">
<p><small class="edit">Bir şeyler bu yazıda doğru ya da eksik değil mi? <a href="https://github.com/MertcanGokgoz/mertcangokgoz.github.io/edit/jekyll/_posts/2014-05-28-ulkemizde-url-tabanli-engelleme-nasil-yapiliyor.md" target="_blank">Düzenleyin ve pull request Oluşturun</a></small></p>


<div id="paylasim">
<h3>Bu yazıyı paylaş:</h3>
<a href="https://www.facebook.com/sharer/sharer.php?u=https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-facebook-square fa share-button"> Facebook</i>
</a>
<a href="https://twitter.com/intent/tweet?text=Ülkemizde URL Tabanlı Engelleme Nasıl Yapılıyor ?&url=https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/&via=mertcangokgoz&related=mertcangokgoz" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;">
    <i class="fa fa-twitter-square fa share-button"> Twitter</i>
</a>
<a href="https://plus.google.com/share?url=https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-google-plus-square fa share-button"> Google</i>
</a>
<a href="http://www.reddit.com/submit?url=https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/&title=Ülkemizde URL Tabanlı Engelleme Nasıl Yapılıyor ?" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-reddit-square fa share-button"> Reddit</i>
</a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/&title=Ülkemizde URL Tabanlı Engelleme Nasıl Yapılıyor ?&summary=&source=webjeda" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >
    <i class="fa fa-linkedin-square fa share-button"> Linkedin</i>
</a>
<a href="mailto:?subject=Ülkemizde URL Tabanlı Engelleme Nasıl Yapılıyor ?&amp;body=Check out this site https://mertcangokgoz.com/ulkemizde-url-tabanli-engelleme-nasil-yapiliyor/">
    <i class="fa fa-envelope-square fa share-button"> Email</i>
</a>
</div>


<div class="ajaxloadcomment"><button class="show-comments">Yorumları yükle</button></div>
<div itemprop="comment" id="disqus_thread"></div>
<script>
$(document).ready(function() {
    $('.show-comments').on('click', function(){
          var disqus_shortname = 'mertcanofficial';

          $.ajax({
                  type: "GET",
                  url: "//" + disqus_shortname + ".disqus.com/embed.js",
                  dataType: "script",
                  cache: true
          });
          $(this).fadeOut();
    });
});
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



      <div class="footer">
        <div class="disclaimer">
  
  <p>
    Bu sitedeki gönderiler bana aittir ve iş verenime ait pozisyonlar,
    stratejiler veya görüşler temsil edilmemektedir.<br>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Atıf-Paylaşım Lisansı</a> altındadır.<br>
        <a href="/ders-notlari/">Ders Notları</a>
        <span> | </span><a href="/gizlilik-politikasi/">Gizlilik Politikası</a>
        <span> | </span><a href="/kullanim-kosullari/">Kullanım Koşulları</a>
        <span> | </span><a href="/hakkimda/">Hakkımda</a>
        <span> | </span><a href="/iletisim/">İletişim</a><br>
        <b>BTC:</b> 36DFx4anTdsx3AnBiA1oqR3oHkMV3RJME1<br>
        <a href="/hosted/">Hosted By </a> © Mertcan GÖKGÖZ, 2017 - Linux Hacısı
  </p>
  
</div>

      </div>
    </div>
  </div>
  <div id="up">
    <a href="javascript:"><i class="fa fa-arrow-up fa-2x"></i></a>
  </div>







</body>
</html>
